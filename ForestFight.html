<html>

<head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.js"
        integrity="sha512-3WFaXQUsbGieECwv3t3DvyAkZ7pp+/rIKOQnx7NKhfwIF0u2l+DYsE2eF635ewJVj3YTU4/Ug6UqEkSTZCiSew=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script defer src="https://unpkg.com/p5.collide2d"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/addons/p5.sound.js"
        integrity="sha512-TU9AWtV5uUZPX8dbBAH8NQF1tSdigPRRT82vllAQ1Ke28puiqLA6ZVKxtUGlgrH6yWFnkKy+sE6luNEGH9ar0A=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <!--reference external JS-->
    <script src="script.js"></script>
    <title>do NOT kill the DJ...</title>
</head>
<style>
body {
            background-image: url('battlescreen.gif');
            overflow: hidden;
        }
        #MCL {
            position: absolute;
            top: 52vh;
            left: 78vw;
            animation: stretch 0.398s steps(153) infinite;
            animation-timing-function: ease-out;
        }
        #dialogue {
            position: absolute;
            height: 30vh;
            width: 40vw;
            background-color: gainsboro;
            border: 5px solid gray;
            left: 31vw;
        }
        #charName {
             font-size: 40px;
            font-family: fantasy
        }
        #GoblinRaider1Portrait {
            position: absolute;
            left: 31vw;
            height: 128px;
            width: 128px;
        }
        #JPPortrait {
            position: absolute;
            left: 31vw;
            height: 128px;
            width: 128px;
            opacity: 0;
        }
        @keyframes appear {
            0% {opacity: 0;}
            100% {opacity: 1;}
        }
        @keyframes disappear {
            0% {opacity: 1;}
            100% {opacity: 0;}
        }
        #actions {
            display: inline-block;
            position: absolute;
            height: 9vh;
            padding: 5px;
            background-color: gainsboro;
            border: 5px solid gray;
            left: 42vw;
            top: 120vh;
            animation-name: actionBarRise;
            animation-duration: 1s;
            animation-fill-mode: forwards;
            animation-delay: 6.5s;
        }
        @keyframes actionBarRise {
            0% {top: 120vh}
            100% {top: 65vh}
        }
        @keyframes actionBarDescend {
            0% {top: 65vh}
            100% {top: 120vh}
        }
        #punch {
        padding: 5px 15px;
        font-size: 21px;
        cursor: pointer;
        text-align: center;
        text-decoration: none;
        outline: none;
        color: #fff;
        background-color: #8803fc;
        border: none;
        border-radius: 15px;
        box-shadow: 0 9px #999;
        }

        #punch:hover {background-color: #6e02cc}

        #punch:active {
        background-color: #6e02cc;
        box-shadow: 0 5px #666;
        transform: translateY(4px);
        }

        #defend {
        padding: 5px 15px;
        font-size: 21px;
        cursor: pointer;
        text-align: center;
        text-decoration: none;
        outline: none;
        color: #fff;
        background-color: #8803fc;
        border: none;
        border-radius: 15px;
        box-shadow: 0 9px #999;
        }

        #defend:hover {background-color: #6e02cc}

        #defend:active {
        background-color: #6e02cc;
        box-shadow: 0 5px #666;
        transform: translateY(4px);
        }

        #talk {
        padding: 5px 15px;
        font-size: 21px;
        cursor: pointer;
        text-align: center;
        text-decoration: none;
        outline: none;
        color: #fff;
        background-color: #8803fc;
        border: none;
        border-radius: 15px;
        box-shadow: 0 9px #999;
        }

        #talk:hover {background-color: #6e02cc}

        #talk:active {
        background-color: #6e02cc;
        box-shadow: 0 5px #666;
        transform: translateY(4px);
        }
         @keyframes stretch {
            0% {
                transform: scaleY(1);
            }
            50% {
                transform: scaleY(1.1);
            }
            100% {
                transform: scaleY(1);
            }
            }
        #actionLog {
             position: absolute;
            z-index: 1;
            width: 15vw;
            height: 27vh;
            background-color: gainsboro;
            border: 5px solid gray;
            top: 4vh;
            left: 71vw;
            text-align: right;
            overflow: auto;
        }
        #GR1R {
            position: absolute;
            height: 64px;
            width: 64px;
            top: 51%;
            left: 20%;
            animation: stretch 0.398s steps(153) infinite;
            animation-timing-function: ease-out;
        }
        #GR2R {
            position: absolute;
            height: 64px;
            width: 64px;
            top: 49%;
            left: 26%;
            animation: stretch 0.398s steps(153) infinite;
            animation-timing-function: ease-out;
        }
        #GDR {
            position: absolute;
            top: 50%;
            left: 14%;
            animation: stretch 0.398s steps(153) infinite;
            animation-timing-function: ease-out;
        }
        #GIR {
            position: absolute;
            height: 64px;
            width: 64px;
            top: 48%;
            left: 8%;
            animation: stretch 0.398s steps(153) infinite;
            animation-timing-function: ease-out;
        }
        #GoblinRaider2Portrait {
            position: absolute;
            left: 31vw;
            height: 128px;
            width: 128px;
            opacity: 0;
        }
        #GoblinDJPortrait {
            position: absolute;
            left: 31vw;
            height: 128px;
            width: 128px;
            opacity: 0;
        }
        #GoblinInstigatorPortrait {
            position: absolute;
            left: 31vw;
            height: 128px;
            width: 128px;
            opacity: 0;
        }
        #JPL {
            position: absolute;
            top: 49vh;
            left: 86vw;
            animation: stretch 0.398s steps(153) infinite;
            animation-timing-function: ease-out;
        }
        #peace {
        padding: 5px 15px;
        font-size: 21px;
        cursor: pointer;
        text-align: center;
        text-decoration: none;
        outline: none;
        color: #fff;
        background-color: #8803fc;
        border: none;
        border-radius: 15px;
        box-shadow: 0 9px #999;
        }
        #musicchange {
        padding: 5px 15px;
        font-size: 21px;
        cursor: pointer;
        text-align: center;
        text-decoration: none;
        outline: none;
        color: #fff;
        background-color: #8803fc;
        border: none;
        border-radius: 15px;
        box-shadow: 0 9px #999;
        }
        @keyframes punchJJ {
        0% {
        transform: scale(0.8) rotate(-30deg);
        }
        50% {
        transform: scale(1.4) rotate(10deg);
        }
        80% {
            transform: scale(1.1) rotate(0);
        }
        100% {
            opacity: 1;
            transform: scale(1) rotate(0)
        }
        }
        #punchIconImg {
            height: 128px;
            width: 128px;
            position: absolute;
            opacity: 0;
            top: 48vh;
            left: 78vw;
            /* animation: punch 0.5s ease-in-out forwards; */
        }
        #hit1 {
            color: red;
            text-shadow:
            -1px -1px 0 #000,
            1px -1px 0 #000,
            -1px 1px 0 #000,
            1px 1px 0 #000;
        }
        #heal1 {
            color: lime;
            text-shadow:
            -1px -1px 0 #000,
            1px -1px 0 #000,
            -1px 1px 0 #000,
            1px 1px 0 #000;
        }
        #morale1 {
            color: cyan;
            text-shadow:
            -1px -1px 0 #000,
            1px -1px 0 #000,
            -1px 1px 0 #000,
            1px 1px 0 #000;
        }
        #defendIconImg {
            height: 128px;
            width: 128px;
            position: absolute;
            z-index: 9999;
            top: 48vh;
            left: 70vw;
            opacity: 0;
        }
        @keyframes slam-fade-in {
            0% {
                opacity: 0;
                transform: translateY(-200px);
            }
            50% {
                opacity: 1;
                transform: translateY(50px);
            }
            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }
        #punchIconGR1 {
            height: 128px;
            width: 128px;
            position: absolute;
            opacity: 0;
            top: 48vh;
            left: 18vw;
        }
        #punchIconGR2 {
            height: 128px;
            width: 128px;
            position: absolute;
            opacity: 0;
            top: 46vh;
            left: 25vw;
        }
        #punchIconGD {
            height: 128px;
            width: 128px;
            position: absolute;
            opacity: 0;
            top: 47vh;
            left: 12vw;
        }
        #punchIconGI {
            height: 128px;
            width: 128px;
            position: absolute;
            opacity: 0;
            top: 46vh;
            left: 6vw;
        }
        #mcHPhtml {
            color: lime;
            text-shadow:
            -1px -1px 0 #000,
            1px -1px 0 #000,
            -1px 1px 0 #000,
            1px 1px 0 #000;
            position: absolute;
            top: 57%;
            left: 78.5%;
        }
        #mcMoralehtml {
            color: cyan;
            text-shadow:
            -1px -1px 0 #000,
            1px -1px 0 #000,
            -1px 1px 0 #000,
            1px 1px 0 #000;
            position: absolute;
            top: 59%;
            left: 78.5%;
        }
        #GR1HPhtml {
            color: lime;
            text-shadow:
            -1px -1px 0 #000,
            1px -1px 0 #000,
            -1px 1px 0 #000,
            1px 1px 0 #000;
            position: absolute;
            top: 56%;
            left: 20%;
        }
        #GR1Moralehtml {
            color: cyan;
            text-shadow:
            -1px -1px 0 #000,
            1px -1px 0 #000,
            -1px 1px 0 #000,
            1px 1px 0 #000;
            position: absolute;
            top: 58%;
            left: 20%;
        }
        #GR2HPhtml {
            color: lime;
            text-shadow:
            -1px -1px 0 #000,
            1px -1px 0 #000,
            -1px 1px 0 #000,
            1px 1px 0 #000;
            position: absolute;
            top: 54%;
            left: 26%;
        }
        #GR2Moralehtml {
            color: cyan;
            text-shadow:
            -1px -1px 0 #000,
            1px -1px 0 #000,
            -1px 1px 0 #000,
            1px 1px 0 #000;
            position: absolute;
            top: 56%;
            left: 26%;
        }
        #GDHPhtml {
            color: lime;
            text-shadow:
            -1px -1px 0 #000,
            1px -1px 0 #000,
            -1px 1px 0 #000,
            1px 1px 0 #000;
            position: absolute;
            top: 55%;
            left: 14%;
        }
        #GDMoralehtml {
            color: cyan;
            text-shadow:
            -1px -1px 0 #000,
            1px -1px 0 #000,
            -1px 1px 0 #000,
            1px 1px 0 #000;
            position: absolute;
            top: 57%;
            left: 14%;
        }
        #GIHPhtml {
            color: lime;
            text-shadow:
            -1px -1px 0 #000,
            1px -1px 0 #000,
            -1px 1px 0 #000,
            1px 1px 0 #000;
            position: absolute;
            top: 53%;
            left: 8%;
        }
        #GIMoralehtml {
            color: cyan;
            text-shadow:
            -1px -1px 0 #000,
            1px -1px 0 #000,
            -1px 1px 0 #000,
            1px 1px 0 #000;
            position: absolute;
            top: 55%;
            left: 8%;
        }
        @keyframes getinformedaboutthisfireasssong {
            0% {top: 100vh}
            50% {top: 90vh}
            100% {top: 100vh}
        }
         #fireasssong {
            color:white;
            text-shadow:
            -1px -1px 0 #000,
            1px -1px 0 #000,
            -1px 1px 0 #000,
            1px 1px 0 #000;
            position: absolute;
            top: 100vh;
            animation-name: getinformedaboutthisfireasssong;
            animation-fill-mode: forwards;
            animation-duration: 10s;
        }
</style>
<body onload="opening()">
    <p id="fireasssong">now playing: Meta Knight's Revenge (Kirby) - aden mayo</p>
<img src="mcLeft.png" id="MCL">
            <div id="dialogue">
                <p id='charName'>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                    Goblin Raider 1</p><br><p id="textBox"></p>
            </div>
<img src="Goblin Raider 1 Portrait.png" id="GoblinRaider1Portrait">
<img src="JamesPhillipsPortrait.png" id="JPPortrait">
<div id="actions"><br><button id='punch' onclick='punch()'>Punch</button><button id='defend' onclick='defend()'>Defend</button><button id='talk' onclick='taunt()'>Taunt</button></div>
<div id="actionLog"></div>
<button onclick="stopBG()" id="bgbutton">Stop Background</button>
<br>
<button onclick="playBG()" id="bgbutton">Play Background</button>
<img src="GoblinRaider1Right.png" id="GR1R">
<img src="GoblinRaider2Right.png" id="GR2R">
<img src="GoblinDJRight.png" id="GDR">
<img src="GoblinInstigatorRight.png" id="GIR">
<img src="Goblin Raider 2 Portrait.png" id="GoblinRaider2Portrait">
<img src="GoblinDJPortrait.png" id="GoblinDJPortrait">
<img src="GoblinInstigatorPortrait.png" id="GoblinInstigatorPortrait">
<img src="JamesPhillipsLeft.png" id="JPL">
<img src="punchIcon.png" id="punchIconImg"  alt="Punch Icon">
<img src="punchIcon.png" id="punchIconGR1" alt="Punch Icon">
<img src="punchIcon.png" id="punchIconGR2" alt="Punch Icon">
<img src="punchIcon.png" id="punchIconGI" alt="Punch Icon">
<img src="punchIcon.png" id="punchIconGD" alt="Punch Icon">
<img src="defendIcon.gif" id="defendIconImg">
<p id="mcHPhtml">100/100</p>
<p id="mcMoralehtml">100%</p>
<p id="GR1HPhtml">100/100</p>
<p id="GR1Moralehtml">100%</p>
<p id="GR2HPhtml">100/100</p>
<p id="GR2Moralehtml">100%</p>
<p id="GDHPhtml">100/100</p>
<p id="GDMoralehtml">100%</p>
<p id="GIHPhtml">100/100</p>
<p id="GIMoralehtml">100%</p>
</body>
<script>
    const wereMsg = 'We are gonna mess yall up!!'
    const notMsg = 'Not if we have anything to say about it,               lets get em, Jack. '
    const hahaMsg = 'blhahahah!       solve      THIS      peacefully,    NERD! '
    const damnitMsg = 'Dammit Jack,    theres no reasoning with these      ANIMALS.     Take this,    and deliver a KO. '
    const itsinMsg = 'Its in your highest regard to defend,   cause these punches are too much for you,   lil bro!  '
    const damnbruhMsg = 'damn bruh.......ur just gonna let him small talk u    ANNND hit you?????? thats crazy bruh if that was me id hit him back or smth bruh caus dats crazy bruh how u jus gon let a mf hit u like that and small talk u in the same turn like thats crazy damn bruh that is just absolutely wicked wild caus dat would neva eva be me cause i aint da type to jus let smth like dat happen to me ykwim im the real type shi where i hit back n shi and o damn my text goin off da text box cuh thats how crazy it is my text be flyin off da box n shi 💀💀💀💀💀💀💀💀💀💀💀💀'
    const argMsg = 'argh!     guess you needed your little    BOYFRIEND over there to tell you how to throw a punch? '
    const grahMsg = 'grahg!   since when could you hurt me???'
    const blarghMsg = 'blargh!!     that hurts more than I remember!   '
    const yowchMsg = 'yowchies!!       damm bruh,   if i were me,    id NEVER let thats slide....id like....hit you back or something.      hey wait a second! '
    const notcoolMsg = '..not cool man'
    const goblinattack1Msg = 'take      THIS!      hiyah!      hahahah!'
    const goblinattack2Msg = 'wachawwww!!!!!      thats the sound of me attacking! '
    const goblinattack3Msg = 'hows the taste of my fist,    sucker?!??!'
    const goblinattack4Msg = 'order up!!      knuckle sandwhich for the LOSER party!     '
    const goblinattack5Msg = 'poof!!! a portion of your HP disappeared! '
    const goblinattack6Msg = 'hit the bricks pal,   youre done'
    const goblinattack7Msg = 'maybe ill knock your teeth out with this one!'
    const goblinattack8Msg = 'cant wait to see the look on your deformed face after that one!'
    const goblinattack9Msg = 'id like to watch that one in slo-mo!'
    const goblinattack10Msg = 'goblin flavored punch incoming!'
    const goblinhurt1Msg = 'gah!    the pain!'
    const goblinhurt2Msg = 'ouch!  dont put your weak hands on me!'
    const goblinhurt3Msg = 'eek!   stop hitting me!'
    const surethingMsg = 'sure thing boss'
    const youshowedMsg = 'dang bruh...  how u gonna get small talked and hit in the same turn...'
    const taunt1 = 'your nipples look like rotten pepperoni!'
    const taunt2j = 'Yo mamas so fat,               when she fell I didnt laugh,         but the sidewalk cracked up.'
    const taunt3 = 'Do I smell soiled baby diaper??'
    const taunt4 = 'didya really need an instigator to make you feel better about yourself?'
    const taunt5 = 'you need to kill yourself NOW!   you serve ZERO purpose!   your life means NOTHING!'
    const taunt6 = 'his next punch is gonna hurt reaaaaal bad!'
    const taunt7 = 'how are you struggling in a 4v1?? you guys suck!'
    const taunt8 = "Yo mama's so fat, if she buys a fur coat, a whole species will become extinct."
    const taunt9 = "Yo mama so dumb, it takes her an hour to cook minute rice."
    const taunt10 = "Yo mama's so ugly, she threw a boomerang and it refused to come back."
    const healMsg = 'here,    take this.  itll heal you up. '
    const hesdeadMsg = 'uhh, jack.   theyre dead, no need to beat their corpse. '
    const rektMsg = 'Hahaha! Nice work, Jack!   get REKT!    buncha LOSERS!'

    let told = false
    let firstpunch = true
    let GR1dead = false
    let GR2dead = false
    let GIdead = false
    let GDdead = false

    var mcHP = 100
    let mcMorale = 100
    let GR1HP = 100
    let GR2HP = 100
    let GIHP = 100
    let GDHP = 100
    let GR1Morale = 100
    let GR2Morale = 100
    let GIMorale = 100
    let GDMorale = 100

    function stopBG() {
            document.body.style.backgroundImage = 'url("battlescreenStill.png")'
        }
        function playBG() {
            document.body.style.backgroundImage = 'url("battlescreen.gif")'
        }
function opening() {
    typeText('textBox', 'werespan', wereMsg)
    function typeText(containerId, spanId, text) {
        document.getElementById(containerId).innerHTML = '';
        document.getElementById(containerId).innerHTML = `<span id='${spanId}'></span>`;
        let i = 0;
        let txtSpeed = 30
        const timerId = setInterval(() => {
            const span = document.getElementById(spanId);
            const currentText = span.innerHTML;
            if (i >= text.length) {
                clearInterval(timerId);
                return;
            }
            const nextChar = text.charAt(i);
            const newText = currentText + nextChar;
            span.innerHTML = newText;
            i++;
        }, txtSpeed);
    } setTimeout(opening2, 3000)
}
function opening2() {
    document.getElementById('GoblinRaider1Portrait').style.animation = 'disappear 0.0001s forwards'
    document.getElementById('JPPortrait').style.animation = 'appear 0.0001s forwards'
    document.getElementById('charName').innerHTML = '&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;???'
    typeText('textBox', 'notspan', notMsg)
    function typeText(containerId, spanId, text) {
        document.getElementById(containerId).innerHTML = '';
        document.getElementById(containerId).innerHTML = `<span id='${spanId}'></span>`;
        let i = 0;
        let txtSpeed = 30
        const timerId = setInterval(() => {
            const span = document.getElementById(spanId);
            const currentText = span.innerHTML;
            if (i >= text.length) {
                clearInterval(timerId);
                return;
            }
            const nextChar = text.charAt(i);
            const newText = currentText + nextChar;
            span.innerHTML = newText;
            i++;
        }, txtSpeed);
    } setTimeout(firstturn, 3000)
}
    
function firstturn() {
    var element = document.getElementById("actionLog");
    var currentText = element.innerHTML;
    var newText = currentText + " <br> Battle begins!"
    element.innerHTML = newText;
}
    function actionBarRise() {
        document.getElementById('actions').style.animation = 'actionBarRise 1s forwards'
    }
    function actionBarDescend() {
        document.getElementById('actions').style.animation = 'actionBarDescend 1s forwards'
    }
function taunt() {
   var element = document.getElementById("actionLog");
    var currentText = element.innerHTML;
    var newText = currentText + " <br> Jack tells ??? to Taunt the enemies!"
    element.innerHTML = newText;
    actionBarDescend()
    document.getElementById('JPPortrait').style.animation = 'appear 0.0001s forwards'
    document.getElementById('GoblinRaider1Portrait').style.animation = 'disappear 0.0001s forwards'
    document.getElementById('GoblinDJPortrait').style.animation = 'disappear 0.0001s forwards'
    document.getElementById('GoblinInstigatorPortrait').style.animation = 'disappear 0.0001s forwards'
    document.getElementById('GoblinRaider2Portrait').style.animation = 'disappear 0.0001s forwards'
    document.getElementById('charName').innerHTML = '&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;???'
    var randomNumber = Math.floor(Math.random() * 10) + 1;

    if (randomNumber === 1) {
        typeText('textBox', 'taunt1span', taunt1)
    } else if (randomNumber === 2) {
        typeText('textBox', 'taunt2span', taunt2j)
    } else if (randomNumber === 3) {
        typeText('textBox', 'taunt3span', taunt3)
    } else if (randomNumber === 4) {
        typeText('textBox', 'taunt4span', taunt4)
    } else if (randomNumber === 5) {
        typeText('textBox', 'taunt5span', taunt5)
    } else if (randomNumber === 6) {
        typeText('textBox', 'taunt6span', taunt6)
    } else if (randomNumber === 7) {
        typeText('textBox', 'taunt7span', taunt7)
    } else if (randomNumber === 8) {
        typeText('textBox', 'taunt8span', taunt8)
    } else if (randomNumber === 9) {
        typeText('textBox', 'taunt9span', taunt9)
    } else {
        typeText('textBox', 'taunt10span', taunt10)
    }
    function taunt2() {
        var randMoraleheal = Math.floor(Math.random() * 75) + 1
        mcMorale += randMoraleheal
        document.getElementById('mcMoralehtml').innerHTML = mcMorale + '%'
        var element = document.getElementById("actionLog");
        var currentText = element.innerHTML;
        var newText = currentText + " <br> <p id='morale1'> Jack feels more confident!"
        element.innerHTML = newText;
        if (GR2dead) {
                actionBarRise()
                document.getElementById('punchIconImg').style.animation = 'disappear 1s forwards'
        } else {
        function taunt3() {
            document.getElementById('JPPortrait').style.animation = 'disappear 0.0001s forwards'
            document.getElementById('GoblinRaider1Portrait').style.animation = 'disappear 0.0001s forwards'
            document.getElementById('GoblinDJPortrait').style.animation = 'disappear 0.0001s forwards'
            document.getElementById('GoblinInstigatorPortrait').style.animation = 'disappear 0.0001s forwards'
            document.getElementById('GoblinRaider2Portrait').style.animation = 'appear 0.0001s forwards'
            document.getElementById('charName').innerHTML = '&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Goblin Raider 2'
            document.getElementById('punchIconImg').style.animation = 'punchJJ 0.5s ease-in-out forwards'
            var randomNumber = Math.floor(Math.random() * 10) + 1;

            if (randomNumber === 1) {
                typeText('textBox', 'goblinattack1span', goblinattack1Msg)
            } else if (randomNumber === 2) {
                typeText('textBox', 'goblinattack2span', goblinattack2Msg)
            } else if (randomNumber === 3) {
                typeText('textBox', 'goblinattack3span', goblinattack3Msg)
            } else if (randomNumber === 4) {
                typeText('textBox', 'goblinattack4span', goblinattack4Msg)
            } else if (randomNumber === 5) {
                typeText('textBox', 'goblinattack5span', goblinattack5Msg)
            } else if (randomNumber === 6) {
                typeText('textBox', 'goblinattack6span', goblinattack6Msg)
                bricks.play()
            } else if (randomNumber === 7) {
                typeText('textBox', 'goblinattack7span', goblinattack7Msg)
            } else if (randomNumber === 8) {
                typeText('textBox', 'goblinattack8span', goblinattack8Msg)
            } else if (randomNumber === 9) {
                typeText('textBox', 'goblinattack9span', goblinattack9Msg)
            } else {
                typeText('textBox', 'goblinattack10span', goblinattack10Msg)
            }
            punchSFX.play()
            var element = document.getElementById("actionLog");
            var currentText = element.innerHTML;
            var newText = currentText + " <br> <p id='hit1'>Goblin Raider 2 hits Jack!  "
            element.innerHTML = newText;
            var randHPDmg = Math.floor(Math.random() * 35) + 1 //original dmg is 35
            var randMoraleDmg = Math.floor(Math.random() * 30) + 1
            mcHP = (mcHP - randHPDmg * (GR2Morale / 100)).toFixed(2)
            mcMorale -= randMoraleDmg
            document.getElementById('mcHPhtml').innerHTML = mcHP + '/100'
            document.getElementById('mcMoralehtml').innerHTML = mcMorale + '%'
            document.getElementById('actions').innerHTML = "<br><button id='punch' onclick='punch()'>Punch</button><button id='defend' onclick='defend()'>Defend</button><button id='talk' onclick='taunt()'>Taunt</button>"
            function taunt4() {
                if (mcHP > 50) {
                actionBarRise()
                document.getElementById('punchIconImg').style.animation = 'disappear 1s forwards'
                } else {
                    var randomNumber = Math.floor(Math.random() * 5) + 1;

                    if (randomNumber === 1) {
                        typeText('textBox', 'healspan', healMsg)
                        document.getElementById('JPPortrait').style.animation = 'appear 0.0001s forwards'
                        document.getElementById('GoblinRaider1Portrait').style.animation = 'disappear 0.0001s forwards'
                        document.getElementById('GoblinDJPortrait').style.animation = 'disappear 0.0001s forwards'
                        document.getElementById('GoblinInstigatorPortrait').style.animation = 'disappear 0.0001s forwards'
                        document.getElementById('GoblinRaider2Portrait').style.animation = 'disappear 0.0001s forwards'
                        document.getElementById('charName').innerHTML = '&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;???'
                        var randHPheal = Math.floor(Math.random() * 75) + 1;
                        mcHP = Math.floor(mcHP) + randHPheal;
                        mcHP += randHPheal;
                        document.getElementById('mcHPhtml').innerHTML = mcHP + '/100'
                        var element = document.getElementById("actionLog");
                        var currentText = element.innerHTML;
                        var newText = currentText + " <br> <p id='heal1'>??? Heals Jack!  "
                        document.getElementById('punchIconImg').style.animation = 'disappear 1s forwards'
                        element.innerHTML = newText;
                        actionBarRise()
                        if (mcHP < 0) {
                            location.replace('death.html')
                        }
                    } else if (randomNumber === 2) {
                        actionBarRise()
                        document.getElementById('punchIconImg').style.animation = 'disappear 1s forwards'
                    } else if (randomNumber === 3) {
                        actionBarRise()
                        document.getElementById('punchIconImg').style.animation = 'disappear 1s forwards'
                    } else if (randomNumber === 4) {
                        actionBarRise()
                        document.getElementById('punchIconImg').style.animation = 'disappear 1s forwards'
                    } else  {
                        actionBarRise()
                        document.getElementById('punchIconImg').style.animation = 'disappear 1s forwards'
                    }
                }
                if (mcHP < 0) {
                    location.replace('death.html')
            }
        }setTimeout(taunt4,2000)
    }
    }setTimeout(taunt3,2000)
}setTimeout(taunt2,3000)
}

function defend() {
    defendSFX.play()
    document.getElementById('defendIconImg').style.animation = 'slam-fade-in 1.2s cubic-bezier(0.18, 0.89, 0.32, 1.28) forwards'
    var element = document.getElementById("actionLog");
    var currentText = element.innerHTML;
    var newText = currentText + " <br> Jack defends! "
    element.innerHTML = newText;
    actionBarDescend()
    if (GR1dead) {
        function poop() {
        actionBarRise()
            var randHPheal = Math.floor(Math.random() * 25) + 1;
            var randMoraleheal = Math.floor(Math.random() * 25) + 1
            mcHP = Math.floor(mcHP) + randHPheal;
            mcHP += randHPheal;
            mcMorale = Math.floor(mcMorale) + randMoraleheal;
            mcMorale += randMoraleheal
            document.getElementById('mcHPhtml').innerHTML = mcHP + '/100'
            document.getElementById('mcMoralehtml').innerHTML = mcMorale + '%'
            var element = document.getElementById("actionLog");
            var currentText = element.innerHTML;
            var newText = currentText + " <br> <p id='heal1'>Jack heals slightly! "
            element.innerHTML = newText;
            var element = document.getElementById("actionLog");
            var currentText = element.innerHTML;
            var newText = currentText + " <br> <p id='morale1'> Jack feels safe! "
            element.innerHTML = newText;
            document.getElementById('defendIconImg').style.animation = 'disappear 1s forwards'
        }setTimeout(poop,1200)
    } else {
    function defend2() {
        var randHPheal = Math.floor(Math.random() * 25) + 1;
        var randMoraleheal = Math.floor(Math.random() * 25) + 1
        mcHP = Math.floor(mcHP) + randHPheal;
        mcHP += randHPheal;
        mcMorale = Math.floor(mcMorale) + randMoraleheal;
        mcMorale += randMoraleheal
        document.getElementById('mcHPhtml').innerHTML = mcHP + '/100'
        document.getElementById('mcMoralehtml').innerHTML = mcMorale + '%'
        var element = document.getElementById("actionLog");
        var currentText = element.innerHTML;
        var newText = currentText + " <br> <p id='heal1'>Jack heals slightly! "
        element.innerHTML = newText;
        var element = document.getElementById("actionLog");
        var currentText = element.innerHTML;
        var newText = currentText + " <br> <p id='morale1'> Jack feels safe! "
        element.innerHTML = newText;
    function defend3() {
        typeText('textBox','itsinspan',itsinMsg)
        document.getElementById('JPPortrait').style.animation = 'disappear 0.0001s forwards'
        document.getElementById('JPPortrait').style.animation = 'disappear 0.0001s forwards'
        document.getElementById('GoblinRaider2Portrait').style.animation = 'disappear 0.0001s forwards'
        document.getElementById('GoblinDJPortrait').style.animation = 'disappear 0.0001s forwards'
        document.getElementById('GoblinInstigatorPortrait').style.animation = 'disappear 0.0001s forwards'
        document.getElementById('GoblinRaider1Portrait').style.animation = 'appear 0.0001s forwards'
        document.getElementById('charName').innerHTML = '&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Goblin Raider 1'
        function typeText(containerId, spanId, text) {
            document.getElementById(containerId).innerHTML = '';
            document.getElementById(containerId).innerHTML = `<span id='${spanId}'></span>`;
            let i = 0;
            let txtSpeed = 30
            const timerId = setInterval(() => {
                const span = document.getElementById(spanId);
                const currentText = span.innerHTML;
                if (i >= text.length) {
                    clearInterval(timerId);
                    return;
                }
                const nextChar = text.charAt(i);
                const newText = currentText + nextChar;
                span.innerHTML = newText;
                i++;
            }, txtSpeed);
        } 
        function defend4() {
            punchSFX.play()
            var element = document.getElementById("actionLog");
            var currentText = element.innerHTML;
            var newText = currentText + " <br> <p id='hit1'>Goblin Raider 1 hits Jack!"
            element.innerHTML = newText;
            var randHPDmg = Math.floor(Math.random() * 25) + 1
            var randMoraleDmg = Math.floor(Math.random() * 10) + 1
            mcHP -= randHPDmg
            mcMorale -= randMoraleDmg
            document.getElementById('mcHPhtml').innerHTML = mcHP + '/100'
            document.getElementById('mcMoralehtml').innerHTML = mcMorale + '%'
            document.getElementById('punchIconImg').style.animation = 'punchJJ 0.5s ease-in-out forwards'
            function defend5() {
                document.getElementById('punchIconImg').style.animation = 'disappear 1s forwards'
                document.getElementById('defendIconImg').style.animation = 'disappear 1s forwards'
                if (GIdead) {
                    actionBarRise()
                    if (mcHP < 0 ) {
                        location.replace('death.html')
                    }
                } else {
                function defend6() {
                    document.getElementById('JPPortrait').style.animation = 'disappear 0.0001s forwards'
                    document.getElementById('GoblinRaider1Portrait').style.animation = 'disappear 0.0001s forwards'
                    document.getElementById('GoblinRaider2Portrait').style.animation = 'disappear 0.0001s forwards'
                    document.getElementById('GoblinDJPortrait').style.animation = 'disappear  0.0001s forwards'
                    document.getElementById('GoblinInstigatorPortrait').style.animation = 'appear 0.0001s forwards'
                    document.getElementById('charName').innerHTML = '&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Goblin Instigator'
                    if (firstpunch) {
                    typeText('textBox','damnbruhspan',damnbruhMsg)
                    } else {
                        typeText('textBox','youshowedspan',youshowedMsg)
                    }
                    function defend7() {
                        var element = document.getElementById("actionLog");
                        var currentText = element.innerHTML;
                        var newText = currentText + " <br> <p id='morale1'>Goblin Instigator makes Goblin Raider 1 feel better about himself!"
                        element.innerHTML = newText;
                        var randMoraleheal = Math.floor(Math.random() * 75) + 1
                        GR1Morale += randMoraleheal
                        document.getElementById('GR1Moralehtml').innerHTML = GR1Morale + '%'
                        actionBarRise()
                        if (mcHP < 0) {
                            location.replace('death.html')
                        }
                    } if (firstpunch) {
                        setTimeout(defend7,18000)
                    } else {
                        setTimeout(defend7,3000)
                    }
                    if (mcHP < 0) {
                        location.replace('death.html')
                    }
                    firstpunch = false
                }setTimeout(defend6,1500)
            }
            }setTimeout(defend5,1500)
        }setTimeout(defend4,2000)
    }setTimeout(defend3,1500)
} setTimeout(defend2, 1500)
}
}
    function PGR1() {
        actionBarDescend()
        if (GR1dead) {
            document.getElementById('GR1HPhtml').innerHTML = GR1HP + '/100'
            document.getElementById('GR1Moralehtml').innerHTML = GR1Morale + '%'
            document.getElementById('JPPortrait').style.animation = 'appear 0.0001s forwards'
            document.getElementById('GoblinRaider1Portrait').style.animation = 'disappear 0.0001s forwards'
            document.getElementById('GoblinRaider2Portrait').style.animation = 'disappear 0.0001s forwards'
            document.getElementById('GoblinDJPortrait').style.animation = 'disappear  0.0001s forwards'
            document.getElementById('GoblinInstigatorPortrait').style.animation = 'disappear 0.0001s forwards'
            document.getElementById('charName').innerHTML = '&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ??? '
            typeText('textBox','hesdeadspan',hesdeadMsg)
            function argggg() {
                document.getElementById('actions').innerHTML = "<br><button id='punch' onclick='punch()'>Punch</button><button id='defend' onclick='defend()'>Defend</button><button id='talk' onclick='taunt()'>Taunt</button>"
                actionBarRise()
            }setTimeout(argggg,1000)
        } else {
            punchSFX.play()
        var element = document.getElementById("actionLog");
        var currentText = element.innerHTML;
        var newText = currentText + " <br> <p id='hit1'>Jack delivers a mean blow to Goblin Raider 1!! "
        element.innerHTML = newText;
        var randHPDmg = Math.floor(Math.random() * 35) + 1 //orignal dmg is 35
        var randMoraleDmg = Math.floor(Math.random() * 30) + 1
        GR1HP = (GR1HP - randHPDmg * (mcMorale / 100)).toFixed(2);
        GR1Morale -= randMoraleDmg
        document.getElementById('GR1HPhtml').innerHTML = GR1HP + '/100'
        document.getElementById('GR1Moralehtml').innerHTML = GR1Morale + '%'
        document.getElementById('JPPortrait').style.animation = 'disappear 0.0001s forwards'
        document.getElementById('GoblinRaider1Portrait').style.animation = 'appear 0.0001s forwards'
        document.getElementById('GoblinRaider2Portrait').style.animation = 'disappear 0.0001s forwards'
        document.getElementById('GoblinDJPortrait').style.animation = 'disappear  0.0001s forwards'
        document.getElementById('GoblinInstigatorPortrait').style.animation = 'disappear 0.0001s forwards'
        document.getElementById('charName').innerHTML = '&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Goblin Raider 1 '
        document.getElementById('punchIconGR1').style.animation = 'punchJJ 0.5s ease-in-out forwards'
        if (firstpunch) {
        typeText('textBox','blarghspan',blarghMsg)
        } else {
            var randomNumber = Math.floor(Math.random() * 3) + 1;

            if (randomNumber === 1) {
                typeText('textBox', 'goblinhurt1span', goblinhurt1Msg)
            } else if (randomNumber === 2) {
                typeText('textBox', 'goblinhurt2span', goblinhurt2Msg)
            } else  {
                typeText('textBox', 'goblinhurt3span', goblinhurt3Msg)
            }
        }
        if (GR1HP < 0) {
            GR1dead = true
            actionBarDescend()
            var element = document.getElementById("actionLog");
            var currentText = element.innerHTML;
            var newText = currentText + " <br> <p id='hit1'>Goblin Raider 1 meets their fate!"
            element.innerHTML = newText;
            document.getElementById('GR1R').style.animation = 'disappear 1s forwards'
            document.getElementById('GR1HPhtml').style.animation = 'disappear 1s forwards'
            document.getElementById('GR1Moralehtml').style.animation = 'disappear 1s forwards'
            document.getElementById('punchIconGR1').style.animation = 'disappear 1s forwards'
            document.getElementById('punchIconGR1').style.animation = 'punchJJ 0.5s ease-in-out forwards'
            function poepoe() {
                document.getElementById('punchIconGR1').style.animation = 'disappear 1s forwards'
                actionBarRise()
                document.getElementById('actions').innerHTML = "<br><button id='punch' onclick='punch()'>Punch</button><button id='defend' onclick='defend()'>Defend</button><button id='talk' onclick='taunt()'>Taunt</button>"
            }setTimeout(poepoe,1000)
        } else {
        function PGR12() {
            punchSFX.play()
            var randomNumber = Math.floor(Math.random() * 10) + 1;

            if (randomNumber === 1) {
                typeText('textBox', 'goblinattack1span', goblinattack1Msg)
            } else if (randomNumber === 2) {
                typeText('textBox', 'goblinattack2span', goblinattack2Msg)
            } else if (randomNumber === 3) {
                typeText('textBox', 'goblinattack3span', goblinattack3Msg)
            } else if (randomNumber === 4) {
                typeText('textBox', 'goblinattack4span', goblinattack4Msg)
            } else if (randomNumber === 5) {
                typeText('textBox', 'goblinattack5span', goblinattack5Msg)
            } else if (randomNumber === 6) {
                typeText('textBox', 'goblinattack6span', goblinattack6Msg)
                bricks.play()
            } else if (randomNumber === 7) {
                typeText('textBox', 'goblinattack7span', goblinattack7Msg)
            } else if (randomNumber === 8) {
                typeText('textBox', 'goblinattack8span', goblinattack8Msg)
            } else if (randomNumber === 9) {
                typeText('textBox', 'goblinattack9span', goblinattack9Msg)
            } else {
                typeText('textBox', 'goblinattack10span', goblinattack10Msg)
            }
            var element = document.getElementById("actionLog");
            var currentText = element.innerHTML;
            var newText = currentText + " <br> <p id='hit1'>Goblin Raider 1 gives Jack a piece of his mind!"
            element.innerHTML = newText;
            var randHPDmg = Math.floor(Math.random() * 35) + 1
            var randMoraleDmg = Math.floor(Math.random() * 30) + 1
            mcHP = (mcHP - randHPDmg * (GR1Morale/100)).toFixed(2)
            mcMorale = (mcMorale - randMoraleDmg * (GR1Morale / 100)).toFixed(2)
            document.getElementById('mcHPhtml').innerHTML = mcHP + '/100'
            document.getElementById('mcMoralehtml').innerHTML = mcMorale + '%'
            document.getElementById('punchIconImg').style.animation = 'punchJJ 0.5s ease-in-out forwards'
            document.getElementById('punchIconGR1').style.animation = 'disappear 1s forwards'
            document.getElementById('actions').innerHTML = "<br><button id='punch' onclick='punch()'>Punch</button><button id='defend' onclick='defend()'>Defend</button><button id='talk' onclick='taunt()'>Taunt</button>"
                function PGR13() {
                    firstpunch = false
                    actionBarRise()
                    document.getElementById('punchIconImg').style.animation = 'disappear 1s forwards'
                    if (mcHP < 0) {
                        location.replace('death.html')
                    }
                }setTimeout(PGR13,2000)
        }setTimeout(PGR12,2000)
    }
}
    }
function PGI() {
    actionBarDescend()
    if (GIdead) {
        document.getElementById('GR1HPhtml').innerHTML = GR1HP + '/100'
        document.getElementById('GR1Moralehtml').innerHTML = GR1Morale + '%'
        document.getElementById('JPPortrait').style.animation = 'appear 0.0001s forwards'
        document.getElementById('GoblinRaider1Portrait').style.animation = 'disappear 0.0001s forwards'
        document.getElementById('GoblinRaider2Portrait').style.animation = 'disappear 0.0001s forwards'
        document.getElementById('GoblinDJPortrait').style.animation = 'disappear  0.0001s forwards'
        document.getElementById('GoblinInstigatorPortrait').style.animation = 'disappear 0.0001s forwards'
        document.getElementById('charName').innerHTML = '&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ??? '
        typeText('textBox', 'hesdeadspan', hesdeadMsg)
        function argggg() {
            document.getElementById('actions').innerHTML = "<br><button id='punch' onclick='punch()'>Punch</button><button id='defend' onclick='defend()'>Defend</button><button id='talk' onclick='taunt()'>Taunt</button>"
            actionBarRise()
        } setTimeout(argggg, 1000)
    } else {
        punchSFX.play()
    var element = document.getElementById("actionLog");
    var currentText = element.innerHTML;
    var newText = currentText + " <br> <p id='hit1'>Jack shows Goblin Instigator a crazy hit!! "
    element.innerHTML = newText;
    var randHPDmg = Math.floor(Math.random() * 50) + 1 //original dmg is 50
    var randMoraleDmg = Math.floor(Math.random() * 30) + 1
    GIHP = (GIHP - randHPDmg * (mcMorale / 100)).toFixed(2);
    GIMorale -= randMoraleDmg
    document.getElementById('GIHPhtml').innerHTML = GIHP + '/100'
    document.getElementById('GIMoralehtml').innerHTML = GIMorale + '%'
    document.getElementById('JPPortrait').style.animation = 'disappear 0.0001s forwards'
    document.getElementById('GoblinRaider1Portrait').style.animation = 'disappear 0.0001s forwards'
    document.getElementById('GoblinRaider2Portrait').style.animation = 'disappear 0.0001s forwards'
    document.getElementById('GoblinDJPortrait').style.animation = 'disappear  0.0001s forwards'
    document.getElementById('GoblinInstigatorPortrait').style.animation = 'appear 0.0001s forwards'
    document.getElementById('punchIconGI').style.animation = 'punchJJ 0.5s ease-in-out forwards'
    document.getElementById('charName').innerHTML = '&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Goblin Instigator '
    if (firstpunch) {
    typeText('textBox', 'yowchspan', yowchMsg)
    } else {
        var randomNumber = Math.floor(Math.random() * 3) + 1;

        if (randomNumber === 1) {
            typeText('textBox', 'goblinhurt1span', goblinhurt1Msg)
        } else if (randomNumber === 2) {
            typeText('textBox', 'goblinhurt2span', goblinhurt2Msg)
        } else {
            typeText('textBox', 'goblinhurt3span', goblinhurt3Msg)
        }
    }
    if (GIHP < 0) {
        GIdead = true
            actionBarDescend()
            var element = document.getElementById("actionLog");
            var currentText = element.innerHTML;
            var newText = currentText + " <br> <p id='hit1'>Goblin Instigator just died bruh!"
            element.innerHTML = newText;
            document.getElementById('GIR').style.animation = 'disappear 1s forwards'
            document.getElementById('GIHPhtml').style.animation = 'disappear 1s forwards'
            document.getElementById('GIMoralehtml').style.animation = 'disappear 1s forwards'
            document.getElementById('punchIconGI').style.animation = 'punchJJ 0.5s ease -in -out forwards'
            function risedelay() {
                 document.getElementById('actions').innerHTML = "<br><button id='punch' onclick='punch()'>Punch</button><button id='defend' onclick='defend()'>Defend</button><button id='talk' onclick='taunt()'>Taunt</button>"
                actionBarRise()
                document.getElementById('punchIconGI').style.animation = 'disappear 1s forwards'

            }setTimeout(risedelay,1000)
    } else {
    function PGI2() {
        punchSFX.play()
        var randomNumber = Math.floor(Math.random() * 10) + 1;

        if (randomNumber === 1) {
            typeText('textBox', 'goblinattack1span', goblinattack1Msg)
        } else if (randomNumber === 2) {
            typeText('textBox', 'goblinattack2span', goblinattack2Msg)
        } else if (randomNumber === 3) {
            typeText('textBox', 'goblinattack3span', goblinattack3Msg)
        } else if (randomNumber === 4) {
            typeText('textBox', 'goblinattack4span', goblinattack4Msg)
        } else if (randomNumber === 5) {
            typeText('textBox', 'goblinattack5span', goblinattack5Msg)
        } else if (randomNumber === 6) {
            typeText('textBox', 'goblinattack6span', goblinattack6Msg)
            bricks.play()
        } else if (randomNumber === 7) {
            typeText('textBox', 'goblinattack7span', goblinattack7Msg)
        } else if (randomNumber === 8) {
            typeText('textBox', 'goblinattack8span', goblinattack8Msg)
        } else if (randomNumber === 9) {
            typeText('textBox', 'goblinattack9span', goblinattack9Msg)
        } else {
            typeText('textBox', 'goblinattack10span', goblinattack10Msg)
        }
        var element = document.getElementById("actionLog");
        var currentText = element.innerHTML;
        var newText = currentText + " <br> <p id='hit1'>Goblin Instigator crazily smacks Jack back!  "
        element.innerHTML = newText;
        var randHPDmg = Math.floor(Math.random() * 35) + 1
        var randMoraleDmg = Math.floor(Math.random() * 30) + 1
        mcHP = (mcHP - randHPDmg * (GIMorale / 100)).toFixed(2)
        mcMorale = (mcMorale - randMoraleDmg * (GIMorale / 100)).toFixed(2)
        document.getElementById('mcHPhtml').innerHTML = mcHP + '/100'
        document.getElementById('mcMoralehtml').innerHTML = mcMorale + '%'
        document.getElementById('punchIconImg').style.animation = 'punchJJ 0.5s ease-in-out forwards'
        document.getElementById('actions').innerHTML = "<br><button id='punch' onclick='punch()'>Punch</button><button id='defend' onclick='defend()'>Defend</button><button id='talk' onclick='taunt()'>Taunt</button>"
        document.getElementById('punchIconGI').style.animation = 'disappear 1s forwards'
        function PGI3() {
            firstpunch = false
            document.getElementById('punchIconImg').style.animation = 'disappear 1s forwards'
            actionBarRise()
            if (mcHP < 0) {
                location.replace('death.html')
            }
        }setTimeout(PGI3,2000)
    } if (firstpunch) {
        setTimeout(PGI2,4700)
    } else {
        setTimeout(PGI2,2000)
    }
}
}
}
function PGD() {
    actionBarDescend()
    if (GDdead) {
        document.getElementById('GR1HPhtml').innerHTML = GR1HP + '/100'
        document.getElementById('GR1Moralehtml').innerHTML = GR1Morale + '%'
        document.getElementById('JPPortrait').style.animation = 'appear 0.0001s forwards'
        document.getElementById('GoblinRaider1Portrait').style.animation = 'disappear 0.0001s forwards'
        document.getElementById('GoblinRaider2Portrait').style.animation = 'disappear 0.0001s forwards'
        document.getElementById('GoblinDJPortrait').style.animation = 'disappear  0.0001s forwards'
        document.getElementById('GoblinInstigatorPortrait').style.animation = 'disappear 0.0001s forwards'
        document.getElementById('charName').innerHTML = '&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ??? '
        typeText('textBox', 'hesdeadspan', hesdeadMsg)

        function typeText(containerId, spanId, text) {
            document.getElementById(containerId).innerHTML = '';
            document.getElementById(containerId).innerHTML = `<span id='${spanId}'></span>`;
            let i = 0;
            let txtSpeed = 30
            const timerId = setInterval(() => {
                const span = document.getElementById(spanId);
                const currentText = span.innerHTML;
                if (i >= text.length) {
                    clearInterval(timerId);
                    return;
                }
                const nextChar = text.charAt(i);
                const newText = currentText + nextChar;
                span.innerHTML = newText;
                i++;
            }, txtSpeed);
        } 
        function argggg() {
            document.getElementById('actions').innerHTML = "<br><button id='punch' onclick='punch()'>Punch</button><button id='defend' onclick='defend()'>Defend</button><button id='talk' onclick='taunt()'>Taunt</button>"
            actionBarRise()
        } setTimeout(argggg, 1000)
    } else {
        punchSFX.play()
    var element = document.getElementById("actionLog");
    var currentText = element.innerHTML;
    var newText = currentText + " <br> <p id='hit1'>Jack rudely attacks Goblin DJ.. "
    element.innerHTML = newText;
    var randHPDmg = Math.floor(Math.random() * 75) + 1 //original dmg is 75
    var randMoraleDmg = Math.floor(Math.random() * 30) + 1
    GDHP = (GDHP - randHPDmg * (mcMorale / 100)).toFixed(2);
    GDMorale -= randMoraleDmg
    document.getElementById('GDHPhtml').innerHTML = GDHP + '/100'
    document.getElementById('GDMoralehtml').innerHTML = GDMorale + '%'
    document.getElementById('JPPortrait').style.animation = 'disappear 0.0001s forwards'
    document.getElementById('GoblinRaider1Portrait').style.animation = 'disappear 0.0001s forwards'
    document.getElementById('GoblinRaider2Portrait').style.animation = 'disappear 0.0001s forwards'
    document.getElementById('GoblinDJPortrait').style.animation = 'appear  0.0001s forwards'
    document.getElementById('GoblinInstigatorPortrait').style.animation = 'disappear 0.0001s forwards'
    document.getElementById('punchIconGD').style.animation = 'punchJJ 0.5s ease-in-out forwards'
    document.getElementById('actions').innerHTML = "<br><button id='punch' onclick='punch()'>Punch</button><button id='defend' onclick='defend()'>Defend</button><button id='talk' onclick='taunt()'>Taunt</button>"
    document.getElementById('charName').innerHTML = '&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Goblin DJ '
    typeText('textBox', 'notcoolspan', notcoolMsg)
    function typeText(containerId, spanId, text) {
        document.getElementById(containerId).innerHTML = '';
        document.getElementById(containerId).innerHTML = `<span id='${spanId}'></span>`;
        let i = 0;
        let txtSpeed = 30
        const timerId = setInterval(() => {
            const span = document.getElementById(spanId);
            const currentText = span.innerHTML;
            if (i >= text.length) {
                clearInterval(timerId);
                return;
            }
            const nextChar = text.charAt(i);
            const newText = currentText + nextChar;
            span.innerHTML = newText;
            i++;
        }, txtSpeed);
    }
    if (GDHP < 0) {
        GDdead = true
        sessionStorage.setItem('DJdead',true)
            actionBarDescend()
            var element = document.getElementById("actionLog");
            var currentText = element.innerHTML;
            var newText = currentText + " <br> <p id='hit1'>R.I.P Goblin DJ."
            element.innerHTML = newText;
            document.getElementById('GDR').style.animation = 'disappear 1s forwards'
            document.getElementById('GDHPhtml').style.animation = 'disappear 1s forwards'
            document.getElementById('GDMoralehtml').style.animation = 'disappear 1s forwards'
            document.getElementById('punchIconGD').style.animation = 'punchJJ 0.5s ease-in-out forwards'
            document.getElementById('actions').innerHTML = "<br><button id='punch' onclick='punch()'>Punch</button><button id='defend' onclick='defend()'>Defend</button><button id='talk' onclick='taunt()'>Taunt</button>"
            function helloifyourelookingthroughthecode() {
                actionBarRise()
                document.getElementById('punchIconGD').style.animation = 'disappear 1s forwards'

            }setTimeout(helloifyourelookingthroughthecode,1000)
        } else {
    function PGD2() {
        actionBarRise()
        document.getElementById('punchIconGD').style.animation = 'disappear 1s forwards'
    }setTimeout(PGD2,2000)
}
}
}
function punch() {
    actionBarDescend()
    function punch2() {
        actionBarRise()
            document.getElementById('actions').innerHTML = "<button id='talk' onclick='PGR1()'>Goblin Raider 1</button><button id='talk' onclick='PGR2()'>Goblin Raider 2</button><br><button id='talk' onclick='PGI()'>Goblin Instigator</button><button id='talk' onclick='PGD()'>Goblin DJ</button>"
    }setTimeout(punch2,1000)
}
function PGR2() {
    actionBarDescend()
    if (GR2dead) {
        document.getElementById('GR1HPhtml').innerHTML = GR1HP + '/100'
        document.getElementById('GR1Moralehtml').innerHTML = GR1Morale + '%'
        document.getElementById('JPPortrait').style.animation = 'appear 0.0001s forwards'
        document.getElementById('GoblinRaider1Portrait').style.animation = 'disappear 0.0001s forwards'
        document.getElementById('GoblinRaider2Portrait').style.animation = 'disappear 0.0001s forwards'
        document.getElementById('GoblinDJPortrait').style.animation = 'disappear  0.0001s forwards'
        document.getElementById('GoblinInstigatorPortrait').style.animation = 'disappear 0.0001s forwards'
        document.getElementById('charName').innerHTML = '&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ??? '
        typeText('textBox', 'hesdeadspan', hesdeadMsg)

        function typeText(containerId, spanId, text) {
            document.getElementById(containerId).innerHTML = '';
            document.getElementById(containerId).innerHTML = `<span id='${spanId}'></span>`;
            let i = 0;
            let txtSpeed = 30
            const timerId = setInterval(() => {
                const span = document.getElementById(spanId);
                const currentText = span.innerHTML;
                if (i >= text.length) {
                    clearInterval(timerId);
                    return;
                }
                const nextChar = text.charAt(i);
                const newText = currentText + nextChar;
                span.innerHTML = newText;
                i++;
            }, txtSpeed);
        }
        function argggg() {
            document.getElementById('actions').innerHTML = "<br><button id='punch' onclick='punch()'>Punch</button><button id='defend' onclick='defend()'>Defend</button><button id='talk' onclick='taunt()'>Taunt</button>"
            actionBarRise()
        } setTimeout(argggg, 1000)
    } else {
        punchSFX.play()
    var element = document.getElementById("actionLog");
    var currentText = element.innerHTML;
    var newText = currentText + " <br> <p id='hit1'>Jack delivers a mean blow to Goblin Raider 2!! "
    element.innerHTML = newText;
    var randHPDmg = Math.floor(Math.random() * 35) + 1 //original dmg is 35
    var randMoraleDmg = Math.floor(Math.random() * 20) + 1
    GR2HP = (GR2HP - randHPDmg * (mcMorale / 100)).toFixed(2);
    GR2Morale -= randMoraleDmg
    document.getElementById('GR2HPhtml').innerHTML = GR2HP + '/100'
    document.getElementById('GR2Moralehtml').innerHTML = GR2Morale + '%'
    document.getElementById('JPPortrait').style.animation = 'disappear 0.0001s forwards'
    document.getElementById('GoblinRaider1Portrait').style.animation = 'disappear 0.0001s forwards'
    document.getElementById('GoblinRaider2Portrait').style.animation = 'appear 0.0001s forwards'
    document.getElementById('GoblinDJPortrait').style.animation = 'disappear  0.0001s forwards'
    document.getElementById('GoblinInstigatorPortrait').style.animation = 'disappear 0.0001s forwards'
    document.getElementById('charName').innerHTML = '&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Goblin Raider 2 '
    document.getElementById('punchIconGR2').style.animation = 'punchJJ 0.5s ease-in-out forwards'
    if (firstpunch) {
    if (told) {
    typeText('textBox','argspan', argMsg)
    } else {
        typeText('textBox','grahspan',grahMsg)
    }
} else {
    var randomNumber = Math.floor(Math.random() * 3) + 1;

        if (randomNumber === 1) {
            typeText('textBox', 'goblinhurt1span', goblinhurt1Msg)
        } else if (randomNumber === 2) {
            typeText('textBox', 'goblinhurt2span', goblinhurt2Msg)
        } else {
            typeText('textBox', 'goblinhurt3span', goblinhurt3Msg)
        }
}
    function typeText(containerId, spanId, text) {
        document.getElementById(containerId).innerHTML = '';
        document.getElementById(containerId).innerHTML = `<span id='${spanId}'></span>`;
        let i = 0;
        let txtSpeed = 30
        const timerId = setInterval(() => {
            const span = document.getElementById(spanId);
            const currentText = span.innerHTML;
            if (i >= text.length) {
                clearInterval(timerId);
                return;
            }
            const nextChar = text.charAt(i);
            const newText = currentText + nextChar;
            span.innerHTML = newText;
            i++;
        }, txtSpeed);
    }
    if (GR2HP < 0) {
        GR2dead = true
            actionBarDescend()
            var element = document.getElementById("actionLog");
            var currentText = element.innerHTML;
            var newText = currentText + " <br> <p id='hit1'>Goblin Raider 2 falls!"
            element.innerHTML = newText;
            document.getElementById('GR2R').style.animation = 'disappear 1s forwards'
            document.getElementById('GR2HPhtml').style.animation = 'disappear 1s forwards'
            document.getElementById('GR2Moralehtml').style.animation = 'disappear 1s forwards'
            function plplplp() {
            document.getElementById('actions').innerHTML = "<br><button id='punch' onclick='punch()'>Punch</button><button id='defend' onclick='defend()'>Defend</button><button id='talk' onclick='taunt()'>Taunt</button>"
            document.getElementById('punchIconGR2').style.animation = 'disappear 1s forwards'
            actionBarRise()
            }setTimeout(plplplp,1000)
        } else {
    function PGR22() {
        punchSFX.play()
        document.getElementById('punchIconImg').style.animation = 'punchJJ 0.5s ease-in-out forwards'
        var randomNumber = Math.floor(Math.random() * 10) + 1;

        if (randomNumber === 1) {
            typeText('textBox','goblinattack1span',goblinattack1Msg)
        } else if (randomNumber === 2) {
            typeText('textBox', 'goblinattack2span', goblinattack2Msg)
        } else if (randomNumber === 3) {
            typeText('textBox', 'goblinattack3span', goblinattack3Msg)
        } else if (randomNumber === 4) {
            typeText('textBox', 'goblinattack4span', goblinattack4Msg)
        } else if (randomNumber === 5) {
            typeText('textBox', 'goblinattack5span', goblinattack5Msg)
        } else if (randomNumber === 6) {
            typeText('textBox', 'goblinattack6span', goblinattack6Msg)
            bricks.play()
        } else if (randomNumber === 7) {
            typeText('textBox', 'goblinattack7span', goblinattack7Msg)
        } else if (randomNumber === 8) {
            typeText('textBox', 'goblinattack8span', goblinattack8Msg)
        } else if (randomNumber === 9) {
            typeText('textBox', 'goblinattack9span', goblinattack9Msg)
        } else {
            typeText('textBox', 'goblinattack10span', goblinattack10Msg)
        }
        var element = document.getElementById("actionLog");
        var currentText = element.innerHTML;
        var newText = currentText + " <br> <p id='hit1'>Goblin Raider 2 hits Jack back!  "
        element.innerHTML = newText;
        var randHPDmg = Math.floor(Math.random() * 35) + 1
        var randMoraleDmg = Math.floor(Math.random() * 35) + 1
        mcHP = (mcHP - randHPDmg * (GR2Morale / 100)).toFixed(2)
        mcMorale = (mcMorale - randMoraleDmg * (GR2Morale / 100)).toFixed(2)
        document.getElementById('mcHPhtml').innerHTML = mcHP + '/100'
        document.getElementById('mcMoralehtml').innerHTML = mcMorale + '%'
        document.getElementById('punchIconGR2').style.animation = 'disappear 1s forwards'
        document.getElementById('actions').innerHTML = "<br><button id='punch' onclick='punch()'>Punch</button><button id='defend' onclick='defend()'>Defend</button><button id='talk' onclick='taunt()'>Taunt</button>"
        function PGR23() {
            firstpunch = false
            actionBarRise()
            if (mcHP < 0) {
                location.replace('death.html')
            }
            document.getElementById('punchIconImg').style.animation = 'disappear 1s forwards'
        }setTimeout(PGR23,2000)
    }setTimeout(PGR22,2000)
}
    }
}
    
    function draw() {
    if (GDdead) {
        metaknight.stop()
    }
    if (GR1dead && GR2dead && GIdead && GDdead) {
            function victory() {
                if (sessionStorage.getItem('DJdead') === 'true') {
                    location.replace('postForestFight.html')
                } else {
                    location.replace('postForestFight.html')
                }
            } setTimeout(victory, 3000)
        }
}
    function preload() {
            soundFormats('mp3', 'ogg');
            metaknight = loadSound('metaknightsrevenge-adenmayo.mp3', onSoundLoaded);
            punchSFX = loadSound('punch.mp3')
            punchSFX.setVolume(0.1)
            defendSFX = loadSound('DRbattlestart.mp3')
            defendSFX.setVolume(0.3)
            bricks = loadSound('bricks.mp3')
            bricks.setVolume(0.2)
        }

        function onSoundLoaded() {
            soundLoaded = true;
            metaknight.setVolume(0.1); // Set the volume once the sound is loaded
        }

        function metaPlay() {
            metaknight.loop();
        }

        function setup() {
            if (soundLoaded) {
                userStartAudio();
                metaPlay();
            } else {
                setTimeout(setup, 100);
            }
        }



    function typeText(containerId, spanId, text) {
        document.getElementById(containerId).innerHTML = '';
        document.getElementById(containerId).innerHTML = `<span id='${spanId}'></span>`;
        let i = 0;
        let txtSpeed = 30
        const timerId = setInterval(() => {
            const span = document.getElementById(spanId);
            const currentText = span.innerHTML;
            if (i >= text.length) {
                clearInterval(timerId);
                return;
            }
            const nextChar = text.charAt(i);
            const newText = currentText + nextChar;
            span.innerHTML = newText;
            i++;
        }, txtSpeed);
    }
</script>
