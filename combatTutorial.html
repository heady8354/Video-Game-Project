<html>
  <head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.js" integrity="sha512-3WFaXQUsbGieECwv3t3DvyAkZ7pp+/rIKOQnx7NKhfwIF0u2l+DYsE2eF635ewJVj3YTU4/Ug6UqEkSTZCiSew==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script defer src="https://unpkg.com/p5.collide2d"></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/addons/p5.sound.js"
      integrity="sha512-TU9AWtV5uUZPX8dbBAH8NQF1tSdigPRRT82vllAQ1Ke28puiqLA6ZVKxtUGlgrH6yWFnkKy+sE6luNEGH9ar0A=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"></script>
      <!--reference external JS-->
      <script src="script.js"></script>
      <title>u better thank him for teaching you all this again</title>
  </head>
      <style>
        
        body {
            background-image: url('battlescreen.gif');
            overflow: hidden;
        }
        #MCL {
            position: absolute;
            top: 50vh;
            left: 20vw;
            animation: stretch 0.398s steps(153) infinite;
            animation-timing-function: ease-out;
        }
        @keyframes stretch {
            0% {
                transform: scaleY(1);
            }
            50% {
                transform: scaleY(1.1);
            }
            100% {
                transform: scaleY(1);
            }
            }
        #JCL {
            position: absolute;
            top: 50vh;
            left: 80vw;
            animation: stretch 0.398s steps(153) infinite;
            animation-timing-function: ease-out;
        }
        #dialogue {
            position: absolute;
            height: 30vh;
            width: 40vw;
            background-color: gainsboro;
            border: 5px solid gray;
            left: 31vw;
        }
        #actions {
            display: inline-block;
            position: absolute;
            height: 9vh;
            padding: 5px;
            background-color: gainsboro;
            border: 5px solid gray;
            left: 42vw;
            top: 120vh;
            animation-name: actionBarRise;
            animation-duration: 1s;
            animation-fill-mode: forwards;
            animation-delay: 6.5s;
        }
        #JCPortrait {
            position: absolute;
            left: 31vw;
        }
        #Charname {
            font-size: 40px;
            font-family: fantasy
        }
        #punch {
        padding: 5px 15px;
        font-size: 21px;
        cursor: pointer;
        text-align: center;
        text-decoration: none;
        outline: none;
        color: #fff;
        background-color: #8803fc;
        border: none;
        border-radius: 15px;
        box-shadow: 0 9px #999;
        }

        #punch:hover {background-color: #6e02cc}

        #punch:active {
        background-color: #6e02cc;
        box-shadow: 0 5px #666;
        transform: translateY(4px);
        }

        #defend {
        padding: 5px 15px;
        font-size: 21px;
        cursor: pointer;
        text-align: center;
        text-decoration: none;
        outline: none;
        color: #fff;
        background-color: #8803fc;
        border: none;
        border-radius: 15px;
        box-shadow: 0 9px #999;
        }

        #defend:hover {background-color: #6e02cc}

        #defend:active {
        background-color: #6e02cc;
        box-shadow: 0 5px #666;
        transform: translateY(4px);
        }

        #talk {
        padding: 5px 15px;
        font-size: 21px;
        cursor: pointer;
        text-align: center;
        text-decoration: none;
        outline: none;
        color: #fff;
        background-color: #8803fc;
        border: none;
        border-radius: 15px;
        box-shadow: 0 9px #999;
        }

        #talk:hover {background-color: #6e02cc}

        #talk:active {
        background-color: #6e02cc;
        box-shadow: 0 5px #666;
        transform: translateY(4px);
        }
        #mcHP {
            color: lightgreen;
            text-shadow:
            -1px -1px 0 #000,
            1px -1px 0 #000,
            -1px 1px 0 #000,
            1px 1px 0 #000;
            position: absolute;
            top: 56vh;
            left: 20vw
        }
        #mcMorale {
            color: cyan;
            text-shadow:
            -1px -1px 0 #000,
            1px -1px 0 #000,
            -1px 1px 0 #000,
            1px 1px 0 #000;
            position: absolute;
            top: 58vh;
            left: 20.5vw
        }
        #JCHP {
            color: lightgreen;
            text-shadow:
            -1px -1px 0 #000,
            1px -1px 0 #000,
            -1px 1px 0 #000,
            1px 1px 0 #000;
            position: absolute;
            top: 56vh;
            left: 80vw
        }
        #JCMoraleP {
            color: cyan;
            text-shadow:
            -1px -1px 0 #000,
            1px -1px 0 #000,
            -1px 1px 0 #000,
            1px 1px 0 #000;
            position: absolute;
            top: 58vh;
            left: 80.5vw
        }
        @keyframes actionBarRise {
            0% {top: 120vh}
            100% {top: 65vh}
        }
        @keyframes actionBarDescend {
            0% {top: 65vh}
            100% {top: 120vh}
        }
        #talk1option1 {
            padding: 5px 15px;
        font-size: 21px;
        cursor: pointer;
        text-align: center;
        text-decoration: none;
        outline: none;
        color: #fff;
        background-color: #8803fc;
        border: none;
        border-radius: 15px;
        box-shadow: 0 9px #999;
        }
        #talk1option2 {
        padding: 5px 15px;
        font-size: 21px;
        cursor: pointer;
        text-align: center;
        text-decoration: none;
        outline: none;
        color: #fff;
        background-color: #8803fc;
        border: none;
        border-radius: 15px;
        box-shadow: 0 9px #999;
        }
        #actionsReturn {
            padding: 5px 15px;
        font-size: 21px;
        cursor: pointer;
        text-align: center;
        text-decoration: none;
        outline: none;
        color: #fff;
        background-color: #8803fc;
        border: none;
        border-radius: 15px;
        box-shadow: 0 9px #999;
        }
        #talk1option1:hover {background-color: #6e02cc}

        #talk1option1:active {
        background-color: #6e02cc;
        box-shadow: 0 5px #666;
        transform: translateY(4px);
        }
        #talk1option2:hover {background-color: #6e02cc}

        #talk1option2:active {
        background-color: #6e02cc;
        box-shadow: 0 5px #666;
        transform: translateY(4px);
        }
        #actionsReturn:hover {background-color: #6e02cc}

        #actionsReturn:active {
        background-color: #6e02cc;
        box-shadow: 0 5px #666;
        transform: translateY(4px);
        }
        #bgbutton {
            position: absolute;
        }
        #actionLog {
            position: absolute;
            z-index: 1;
            width: 15vw;
            height: 27vh;
            background-color: gainsboro;
            border: 5px solid gray;
            top: 4vh;
            left: 71vw;
            text-align: right;
            overflow: auto;
        }
        #moraleUp {
            color:cyan;
            text-shadow:
            -1px -1px 0 #000,
            1px -1px 0 #000,
            -1px 1px 0 #000,
            1px 1px 0 #000;
        }
        #moraleUPgif1 {
            height: 52px;
            width: 52px;
            position: absolute;
            z-index: 9999;
            top: 52vh;
            left: 78vw;
            opacity: 0;
        }
        #moraleUPgif2 {
            height: 52px;
            width: 52px;
            position: absolute;
            z-index: 9999;
            top: 54vh;
            left: 82vw;
            opacity: 0;
        }
        #moraleUPgif3 {
            height: 52px;
            width: 52px;
            position: absolute;
            z-index: 9999;
            top: 56vh;
            left: 80vw;
            opacity: 0;
        }
        @keyframes rise1 {
            0% {opacity: 0;}
            50% {opacity: 1;}
            100% {opacity: 0; top: 40vh;}
        }
        @keyframes rise2 {
            0% {opacity: 0}
            50% {opacity: 1;}
            100% {opacity: 0; top: 44vh;}
        }
        @keyframes rise3 {
            0% {opacity: 0}
            50% {opacity: 1;}
            100% {opacity: 0; top: 46vh;}
        }
        @keyframes rise4 {
            0% {opacity: 0;}
            50% {opacity: 1;}
            100% {opacity: 0; top: 40vh;}
        }
        @keyframes rise5 {
            0% {opacity: 0}
            50% {opacity: 1;}
            100% {opacity: 0; top: 44vh;}
        }
        @keyframes rise6 {
            0% {opacity: 0}
            50% {opacity: 1;}
            100% {opacity: 0; top: 46vh;}
        }
        @keyframes rise7 {
            0% {opacity: 0;}
            50% {opacity: 1;}
            100% {opacity: 0; top: 40vh;}
        }
        @keyframes rise8 {
            0% {opacity: 0}
            50% {opacity: 1;}
            100% {opacity: 0; top: 44vh;}
        }
        @keyframes rise9 {
            0% {opacity: 0}
            50% {opacity: 1;}
            100% {opacity: 0; top: 46vh;}
        }
        @keyframes rise10 {
            0% {opacity: 0;}
            50% {opacity: 1;}
            100% {opacity: 0; top: 40vh;}
        }
        @keyframes rise11 {
            0% {opacity: 0}
            50% {opacity: 1;}
            100% {opacity: 0; top: 44vh;}
        }
        @keyframes rise12 {
            0% {opacity: 0}
            50% {opacity: 1;}
            100% {opacity: 0; top: 46vh;}
        }
        #followUp {
            color:yellow;
            text-shadow:
            -1px -1px 0 #000,
            1px -1px 0 #000,
            -1px 1px 0 #000,
            1px 1px 0 #000;
        }
        #followUPimg1 {
            height: 52px;
            width: 52px;
            position: absolute;
            z-index: 9999;
            top: 52vh;
            left: 78vw;
            opacity: 0;
        }
        #followUPimg2 {
            height: 52px;
            width: 52px;
            position: absolute;
            z-index: 9999;
            top: 54vh;
            left: 82vw;
            opacity: 0;
        }
        #followUPimg3 {
            height: 52px;
            width: 52px;
            position: absolute;
            z-index: 9999;
            top: 56vh;
            left: 80vw;
            opacity: 0;
        }
        #defendIconImg {
            height: 128px;
            width: 128px;
            position: absolute;
            z-index: 9999;
            top: 48vh;
            left: 24vw;
            opacity: 0;
            /* animation: slam-fade-in 1.2s cubic-bezier(0.18, 0.89, 0.32, 1.28) forwards; */
        }
        @keyframes slam-fade-in {
            0% {
                opacity: 0;
                transform: translateY(-200px);
            }
            50% {
                opacity: 1;
                transform: translateY(50px);
            }
            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }
        @keyframes fadedout {
            0% {opacity: 1;}
            100% {opacity: 0;}
        }
        .shake {
        animation: shake 0.5s;
        }
        @keyframes shake {
            0% { transform: translate(0, 0); }
            10% { transform: translate(-3px, -3px) rotate(-5deg); }
            20% { transform: translate(3px, 3px) rotate(5deg); }
            30% { transform: translate(-3px, 3px) rotate(-5deg); }
            40% { transform: translate(3px, -3px) rotate(5deg); }
            50% { transform: translate(-2px, 0px) rotate(-3deg); }
            60% { transform: translate(2px, 0px) rotate(3deg); }
            70% { transform: translate(0px, -2px) rotate(-3deg); }
            80% { transform: translate(0px, 2px) rotate(3deg); }
            90% { transform: translate(0px, -2px) rotate(-3deg); }
            100% { transform: translate(0, 0); }
        }
        #punchIconImg {
            height: 128px;
            width: 128px;
            position: absolute;
            opacity: 0;
            top: 48vh;
            left: 78vw;
            /* animation: punch 0.5s ease-in-out forwards; */
        }
        @keyframes punch {
        0% {
        transform: scale(0.8) rotate(-30deg);
        }
        50% {
        transform: scale(1.4) rotate(10deg);
        }
        80% {
            transform: scale(1.1) rotate(0);
        }
        100% {
            opacity: 1;
            transform: scale(1) rotate(0)
        }
        }
        @keyframes fadeout {
            0% {opacity: 1;}
            100% {opacity: 0;}
        }
        #devastatingblow {
            color:rgb(255, 117, 117);
            text-shadow:
            -1px -1px 0 #000,
            1px -1px 0 #000,
            -1px 1px 0 #000,
            1px 1px 0 #000;
        }
        @keyframes joshuasSmack {
            0% {
                top: 50vh;
                left: 80vw;
            }
            25% {
                top: 45vh;
                left: 83vw;
                transform: rotate(30deg)
            }
            50% {
                top: 48vh;
                left: 86vw;
                transform: rotate(90deg)
            }
            75% {
                top: 50vh;
                left: 88vw;
                transform: rotate(110deg)
            }
            100% {
                top: 55vh;
                left: 92vw;
                transform: rotate(90deg)
            }
        }
        #fireasssong {
            color:white;
            text-shadow:
            -1px -1px 0 #000,
            1px -1px 0 #000,
            -1px 1px 0 #000,
            1px 1px 0 #000;
            position: absolute;
            top: 100vh;
            animation-name: getinformedaboutthisfireasssong;
            animation-fill-mode: forwards;
            animation-duration: 10s;
        }
        @keyframes getinformedaboutthisfireasssong {
            0% {top: 100vh}
            50% {top: 90vh}
            100% {top: 100vh}
        }
        </style>
        <body>
            <p id="fireasssong">now playing: Team Deathmatch - Item Asylum</p>
            <div class="overlay"></div>
            <div class="content">
            <button onclick="stopBG()" id="bgbutton">Stop Background</button>
            <br>
            <button onclick="playBG()" id="bgbutton">Play Background</button>
            <img src="mcRight.png" id="MCL">
            <p id="mcHP"><b>100/100</b></p>
            <p id="mcMorale"><b>100%</b></p>
            <img src="moraleUP.gif" id="moraleUPgif1">
            <img src="moraleUP.gif" id="moraleUPgif2">
            <img src="moraleUP.gif" id="moraleUPgif3">
            <p id="JCHP"><b>100/100</b></p>
            <p id="JCMoraleP"><b>100%</b></p>
            <img src="followUpIcon.png" id="followUPimg1">
            <img src="followUpIcon.png" id="followUPimg2">
            <img src="followUpIcon.png" id="followUPimg3">
            <img src="JoshuaCoinLeft.png" id="JCL">
            <img src="defendIcon.gif" id="defendIconImg">
            <img src="punchIcon.png" id="punchIconImg"  alt="Punch Icon">
            <div id="dialogue"><p id='Charname'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Joshua Coin</p><br><span id='welcome'></span><span id='weapons'></span><span id='allthis'></span><span id='allthis2'></span><span id='defendtxt'></span><span id='painMsg'></span></div>
            <img src="JoshuaCoinPortrait.png" id="JCPortrait">
            <div id="actionLog">battle begins</div>
            <div id="actions"><br><button id='punch' onclick='punch1()'>Punch</button><button id='defend' onclick='defend1()'>Defend</button><button id='talk' onclick='talk1()'>Talk</button></div>
            </div>
        </body>
        <script>
            const welcomeMsg = "Welcome to the battle! Don't worry, this is just practice. I'm going to teach you the basics of defending yourself. If you want to learn some more advanced techniques, I'll point you to someone who will teach you everything."
            const weaponsMsg = "ah, there are three different types of weapons. theres a blade, a maul, and a bow. Each weapon is unqiuely powerful against different types of enemies. A blade is most useful against humanoid enemies, like dudes with flesh and fat and stuff. A maul is useful against skeletons. it crushes their bones and stuff. and bows are just for wussys who cant fight."
            const allthisMsg = "im sure all this is quite confusing. First of all, the statistics that me and you have is called our health (green), which obviously shows how dead we are. 100/100 is not dead, and 0/100 is dead. Secondly, the blue, is called your morale. your morale can be changed by actions that you or your opponent do during your battle. It tells you how much damage your attack does. 100% morale means 100% damage, and 50% morale means half damage. simple!"
            const allthisMsg2 = "also, see that stuff that says im liking that im teaching you? thats the action log. it shows why anybody's health or morale is going up or down along with other stuffs. now go ahead and try to hit me! ill dodge it, trust me.  "
            const DefendResponse = "uhh...dont worry. im not gonna hit'cha. "
            const painMsg = 'gahhhouchhH!!!!!!!!'
            function stopBG() {
                document.body.style.backgroundImage = 'url("battlescreenStill.png")'
            }
            function playBG() {
                document.body.style.backgroundImage = 'url("battlescreen.gif")'
            }
            JCMorale = 100
            mcMorale = 100
            JCHealth = 100
            mcHealth = 100
// Set up variables
let i = 0;
const txtSpeed = 30; 
const timerId = setInterval(typeWelcome, txtSpeed);
function typeWelcome() {
  const welcomeText = document.getElementById("welcome");
  const currentText = welcomeText.innerHTML;
  // If we've typed out the entire welcomeMsg, stop the timer
  if (i >= welcomeMsg.length) {
    clearInterval(timerId); 
    return;
  }
  // Add the next character to the current text
  const nextChar = welcomeMsg.charAt(i);
  const newText = currentText + nextChar;
  // Update the text element with the new text
  welcomeText.innerHTML = newText;
  // Increment the counter
  i++;
}
function actionBarRise() {
    document.getElementById('actions').style.animation = 'actionBarRise 1s forwards'
}
function actionBarDescend() {
    document.getElementById('actions').style.animation = 'actionBarDescend 1s forwards'
}
var element = document.getElementById("actionLog");
var currentText = element.innerHTML;
var newText = currentText + " <br> Joshua's turn <br> Joshua uses talk"
element.innerHTML = newText;
function firstturn() {
    var element = document.getElementById("actionLog");
var currentText = element.innerHTML;
var newText = currentText + " <br> Jack's turn"
element.innerHTML = newText;
}setTimeout(firstturn,6500)

function punch1() {
    
    TDM.stop()
    crithit.play()
    document.getElementById('punchIconImg').style.animation = 'punch 0.5s ease-in-out forwards'
        var element = document.getElementById("actionLog");
        var currentText = element.innerHTML;
        var newText = currentText + " <br> <p id='devastatingblow'>Jack lands a hard hit on Joshua!</p>"
        element.innerHTML = newText;
        document.getElementById('JCL').style.animation = 'joshuasSmack 0.4s ease-out forwards'
        document.getElementById('JCHP').innerHTML = '42/100'
        document.getElementById('JCHP').style.color = 'red'
        JCMorale = JCMorale - 50
        document.getElementById('JCMoraleP').innerHTML = JCMorale + '%'
        actionBarDescend()
        function punch1anim3() {
            document.getElementById('welcome').innerHTML = ''
    document.getElementById('allthis').innerHTML = ''
    document.getElementById('allthis2').innerHTML = ''
    document.getElementById('weapons').innerHTML = ''
    document.getElementById('defendtxt').innerHTML = ''
            let i = 0
            const timerId = setInterval(typePain, txtSpeed);
            function typePain() {
            const painText = document.getElementById("painMsg");
            const currentText6 = painText.innerHTML;
            if (i >= painMsg.length) {
                clearInterval(timerId);
                return;
            }
            const nextChar = painMsg.charAt(i);
            const newText6 = currentText6 + nextChar;
            painText.innerHTML = newText6;
            i++;
        } 
        }setTimeout(punch1anim3,200)
      function punch1anim1() {
        var elements = document.querySelectorAll("body *");
      elements.forEach(function(element) {
        element.classList.add("shake");
        setTimeout(function() {
          element.classList.remove("shake");
        }, 500);
      });
      function punch1anim2() {
        console.log('hello')
        document.getElementById('punchIconImg').style.animation = 'fadeout 1s forwards'
        function punch1anim4() {
            location.replace('introCutscene2.html')
        } setTimeout(punch1anim4,4000)
      } setTimeout(punch1anim2,500)
      } setTimeout(punch1anim1,1)
}
function defend1() {
var element = document.getElementById("actionLog");
var currentText = element.innerHTML;
var newText = currentText + " <br> Jack defends"
element.innerHTML = newText;
document.getElementById('defendIconImg').style.animation = 'slam-fade-in 1.2s cubic-bezier(0.18, 0.89, 0.32, 1.28) forwards'
defendSFX.play()
actionBarDescend()
        var element = document.getElementById("actionLog");
        var currentText = element.innerHTML;
        var newText = currentText + " <br> Joshua's turn"
        element.innerHTML = newText;
function defend1anim1() {
        let i = 0;
        var element = document.getElementById("actionLog");
        var currentText = element.innerHTML;
        var newText = currentText + " <br> Joshua uses talk"
        element.innerHTML = newText;
        function defend1anim3() {
        var element = document.getElementById("actionLog");
        var currentText = element.innerHTML;
        var newText = currentText + " <br> Jack's turn"
        element.innerHTML = newText;
        }setTimeout(defend1anim3,2000)
        document.getElementById('welcome').innerHTML = ''
        document.getElementById('allthis').innerHTML = ''
        document.getElementById('allthis2').innerHTML = ''
        document.getElementById('weapons').innerHTML = ''
        document.getElementById('defendtxt').innerHTML = ''
        const timerId = setInterval(typeDefendResponse, txtSpeed);
        function typeDefendResponse() {
        const DefendText = document.getElementById("defendtxt");
        const currentText5 = DefendText.innerHTML;
        // If we've typed out the entire welcomeMsg, stop the timer
        if (i >= DefendResponse.length) {
            clearInterval(timerId); 
            return;
        }
        const nextChar = DefendResponse.charAt(i);
        const newText5 = currentText5 + nextChar;
        DefendText.innerHTML = newText5;
        i++;
    function defend1anim2() {
        actionBarRise()
        console.log("pepepep")
        document.getElementById('defendIconImg').style.animation = 'fadedout 1.5s forwards'
}setTimeout(defend1anim2,2000) 
} 
}setTimeout(defend1anim1,1000) //fixed it get rekt LOOL!!!!
}

function talk1() {
    console.log('talk1 pressed')
    actionBarDescend()
    function talk1anim1() {
    document.getElementById('actions').innerHTML = "<br><button id='talk1option1' onclick='talk1option1()'>What is all this?</button><button id='talk1option2' onclick='talk1option2()'>what types of gear are there?</button><button id='actionsReturn' onclick='actionsReturn()'>*Back</button>"
    document.getElementById('actions').style.left = '33vw'
    actionBarRise()
    } setTimeout(talk1anim1,500)
}
function actionsReturn() {
    console.log('actions returned')
    actionBarDescend()
    function talk1anim2() {
    document.getElementById('actions').innerHTML = "<br><button id='punch' onclick='punch1()'>Punch</button><button id='defend' onclick='defend1()'>Defend</button><button id='talk' onclick='talk1()'>Talk</button>"
    document.getElementById('actions').style.left = '42vw'
    actionBarRise()
    } setTimeout(talk1anim2,500)
}
function talk1option2() {
    console.log('talk option 2 pressed')
    var element = document.getElementById("actionLog");
    var currentText = element.innerHTML;
    var newText = currentText + " <br> Jack uses talk"
    element.innerHTML = newText;
    actionBarDescend()
    document.getElementById('welcome').innerHTML = ''
    document.getElementById('allthis').innerHTML = ''
    document.getElementById('allthis2').innerHTML = ''
    document.getElementById('weapons').innerHTML = ''
    document.getElementById('defendtxt').innerHTML = ''
    let i = 0
    const timerId = setInterval(typeWeapons, txtSpeed);
    function typeWeapons() {
    const weaponsText = document.getElementById("weapons");
    const currentText2 = weaponsText.innerHTML;
    if (i >= weaponsMsg.length) {
        clearInterval(timerId);
        return;
    }
    const nextChar = weaponsMsg.charAt(i);
    const newText2 = currentText2 + nextChar;
    weaponsText.innerHTML = newText2;
    i++;
}
    function talk1anim3() {
        console.log('buttons updated')
        var element = document.getElementById("actionLog");
        var currentText = element.innerHTML;
        var newText = currentText + " <br> <p id='moraleUp'>Joshua enjoys educating Jack!</p>"
        element.innerHTML = newText;
        JCMorale = JCMorale + 5
        document.getElementById('JCMoraleP').innerHTML = JCMorale + '%'
        console.log(JCMorale)
        document.getElementById('moraleUPgif1').style.animation = 'rise7 3s ease-out'
        document.getElementById('moraleUPgif2').style.animation = 'rise8 3s ease-out'
        document.getElementById('moraleUPgif3').style.animation = 'rise9 3s ease-out'
        document.getElementById('actions').innerHTML = "<br><button id='punch' onclick='punch1()'>Punch</button><button id='defend' onclick='defend1()'>Defend</button><button id='talk' onclick='talk1()'>Talk</button>"
        document.getElementById('actions').style.left = '42vw'
    } setTimeout(talk1anim3,2000)
    function talk1anim4() {
        var element = document.getElementById("actionLog");
        var currentText = element.innerHTML;
        var newText = currentText + " <br> Jack's turn"
        element.innerHTML = newText;
        actionBarRise()
    } setTimeout(talk1anim4,10000)

}
function talk1option1() {
    console.log('talk option 1 pressed')
    actionBarDescend()
    document.getElementById('welcome').innerHTML = ''
    document.getElementById('allthis').innerHTML = ''
    document.getElementById('weapons').innerHTML = ''
    document.getElementById('defendtxt').innerHTML = ''
    document.getElementById('allthis2').innerHTML = ''
    let i = 0
    const timerId = setInterval(typeAllthis, txtSpeed);
    function typeAllthis() {
    const allthisText = document.getElementById("allthis");
    const currentText3 = allthisText.innerHTML;
    if (i >= allthisMsg.length) {
        clearInterval(timerId);
        return;
    }
    const nextChar = allthisMsg.charAt(i);
    const newText3 = currentText3 + nextChar;
    allthisText.innerHTML = newText3;
    i++;
}
function talk1anim7() {
    var element = document.getElementById("actionLog");
        var currentText = element.innerHTML;
        var newText = currentText + " <br> <p id='moraleUp'>Joshua enjoys educating Jack!</p>"
        element.innerHTML = newText;
        JCMorale = JCMorale + 5
        document.getElementById('JCMoraleP').innerHTML = JCMorale + '%'
        console.log(JCMorale)
        document.getElementById('moraleUPgif1').style.animation = 'rise1 3s ease-out'
        document.getElementById('moraleUPgif2').style.animation = 'rise2 3s ease-out'
        document.getElementById('moraleUPgif3').style.animation = 'rise3 3s ease-out'
} setTimeout(talk1anim7,2000)
function talk1anim5() {
    document.getElementById('welcome').innerHTML = ''
    document.getElementById('allthis').innerHTML = ''
    document.getElementById('weapons').innerHTML = ''
    let i = 0
    const timerId = setInterval(typeAllthis2, txtSpeed);
    var element = document.getElementById("actionLog");
    var currentText = element.innerHTML;
    var newText = currentText + "<br> <p id='followUp'>Joshua follows up with talk!</p>"
    element.innerHTML = newText;
    document.getElementById('followUPimg1').style.animation = 'rise4 3s ease-out'
    document.getElementById('followUPimg2').style.animation = 'rise5 3s ease-out'
    document.getElementById('followUPimg3').style.animation = 'rise6 3s ease-out'
    function typeAllthis2() {
    const allthis2Text = document.getElementById("allthis2");
    const currentText4 = allthis2Text.innerHTML;
    if (i >= allthisMsg2.length) {
        clearInterval(timerId);
        return;
    }
    const nextChar = allthisMsg2.charAt(i);
    const newText4 = currentText4 + nextChar;
    allthis2Text.innerHTML = newText4;
    i++;
}
    function talk1anim6() { 
        localStorage.setItem('myVariable', true);
        console.log('buttons updatedpooooop')
        document.getElementById('actions').innerHTML = "<br><button id='punch' onclick='punch1()'>Punch</button><button id='defend' onclick='defend1()'>Defend</button><button id='talk' onclick='talk1()'>Talk</button>"
        document.getElementById('actions').style.left = '42vw'
        var element = document.getElementById("actionLog");
        var currentText = element.innerHTML;
        var newText = currentText + " <br> <p id='moraleUp'>Joshua enjoys educating Jack!</p>"
        element.innerHTML = newText;
        JCMorale = JCMorale + 5
        document.getElementById('JCMoraleP').innerHTML = JCMorale + '%'
        console.log(JCMorale)
        document.getElementById('moraleUPgif1').style.animation = 'rise10 3s ease-out'
        document.getElementById('moraleUPgif2').style.animation = 'rise11 3s ease-out'
        document.getElementById('moraleUPgif3').style.animation = 'rise12 3s ease-out'
        function talk1anim8() {
        console.log('turnran')
        var element = document.getElementById("actionLog");
        var currentText = element.innerHTML;
        var newText = currentText + " <br> Jacks turn"
        element.innerHTML = newText;
        actionBarRise()
    }setTimeout(talk1anim8,7000)
    } setTimeout(talk1anim6,2000)
} setTimeout(talk1anim5,16000) 
} 

let soundLoaded = false;

function preload() {
  soundFormats('mp3', 'ogg');
  TDM = loadSound('teamdeathmatch-itemasylum.mp3', onSoundLoaded);
  crithit = loadSound('UTcrithit.mp3')
  crithit.setVolume(0.1)
  defendSFX = loadSound('DRbattlestart.mp3')
  defendSFX.setVolume(0.1)
}

function onSoundLoaded() {
  soundLoaded = true;
  TDM.setVolume(0.1); // Set the volume once the sound is loaded
}

function TDMPlay() {
  TDM.loop();
}

function setup() {
  if (soundLoaded) {
    userStartAudio();
    TDMPlay();
  } else {
    setTimeout(setup, 100);
  }
}

    </script>