<html>
  <head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.js" integrity="sha512-3WFaXQUsbGieECwv3t3DvyAkZ7pp+/rIKOQnx7NKhfwIF0u2l+DYsE2eF635ewJVj3YTU4/Ug6UqEkSTZCiSew==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script defer src="https://unpkg.com/p5.collide2d"></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/addons/p5.sound.js"
      integrity="sha512-TU9AWtV5uUZPX8dbBAH8NQF1tSdigPRRT82vllAQ1Ke28puiqLA6ZVKxtUGlgrH6yWFnkKy+sE6luNEGH9ar0A=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"></script>
      <!--reference external JS-->
      <script src="script.js"></script>
  </head>
      <style>
        body {
            background-image: url('battlescreen.gif');
            overflow: hidden;
        }
        #MCL {
            position: absolute;
            top: 50vh;
            left: 20vw;
        }
        #JCL {
            position: absolute;
            top: 50vh;
            left: 80vw;
        }
        #dialogue {
            position: absolute;
            height: 30vh;
            width: 40vw;
            background-color: gainsboro;
            border: 5px solid gray;
            left: 31vw;
        }
        #actions {
            display: inline-block;
            position: absolute;
            height: 9vh;
            padding: 5px;
            background-color: gainsboro;
            border: 5px solid gray;
            left: 42vw;
            top: 120vh;
            animation-name: actionBarRise;
            animation-duration: 1s;
            animation-fill-mode: forwards;
            animation-delay: 6.5s;
        }
        #JCPortrait {
            position: absolute;
            left: 31vw;
        }
        #Charname {
            font-size: 40px;
            font-family: fantasy
        }
        #punch {
        padding: 5px 15px;
        font-size: 21px;
        cursor: pointer;
        text-align: center;
        text-decoration: none;
        outline: none;
        color: #fff;
        background-color: #8803fc;
        border: none;
        border-radius: 15px;
        box-shadow: 0 9px #999;
        }

        #punch:hover {background-color: #6e02cc}

        #punch:active {
        background-color: #6e02cc;
        box-shadow: 0 5px #666;
        transform: translateY(4px);
        }

        #defend {
        padding: 5px 15px;
        font-size: 21px;
        cursor: pointer;
        text-align: center;
        text-decoration: none;
        outline: none;
        color: #fff;
        background-color: #8803fc;
        border: none;
        border-radius: 15px;
        box-shadow: 0 9px #999;
        }

        #defend:hover {background-color: #6e02cc}

        #defend:active {
        background-color: #6e02cc;
        box-shadow: 0 5px #666;
        transform: translateY(4px);
        }

        #talk {
        padding: 5px 15px;
        font-size: 21px;
        cursor: pointer;
        text-align: center;
        text-decoration: none;
        outline: none;
        color: #fff;
        background-color: #8803fc;
        border: none;
        border-radius: 15px;
        box-shadow: 0 9px #999;
        }

        #talk:hover {background-color: #6e02cc}

        #talk:active {
        background-color: #6e02cc;
        box-shadow: 0 5px #666;
        transform: translateY(4px);
        }
        #mcHP {
            color: lightgreen;
            text-shadow:
            -1px -1px 0 #000,
            1px -1px 0 #000,
            -1px 1px 0 #000,
            1px 1px 0 #000;
            position: absolute;
            top: 56vh;
            left: 20vw
        }
        #mcMorale {
            color: cyan;
            text-shadow:
            -1px -1px 0 #000,
            1px -1px 0 #000,
            -1px 1px 0 #000,
            1px 1px 0 #000;
            position: absolute;
            top: 58vh;
            left: 20.5vw
        }
        #JCHP {
            color: lightgreen;
            text-shadow:
            -1px -1px 0 #000,
            1px -1px 0 #000,
            -1px 1px 0 #000,
            1px 1px 0 #000;
            position: absolute;
            top: 56vh;
            left: 80vw
        }
        #JCMorale {
            color: cyan;
            text-shadow:
            -1px -1px 0 #000,
            1px -1px 0 #000,
            -1px 1px 0 #000,
            1px 1px 0 #000;
            position: absolute;
            top: 58vh;
            left: 80.5vw
        }
        @keyframes actionBarRise {
            0% {top: 120vh}
            100% {top: 65vh}
        }
        @keyframes actionBarDescend {
            0% {top: 65vh}
            100% {top: 120vh}
        }
        #talk1option1 {
            padding: 5px 15px;
        font-size: 21px;
        cursor: pointer;
        text-align: center;
        text-decoration: none;
        outline: none;
        color: #fff;
        background-color: #8803fc;
        border: none;
        border-radius: 15px;
        box-shadow: 0 9px #999;
        }
        #talk1option2 {
            padding: 5px 15px;
        font-size: 21px;
        cursor: pointer;
        text-align: center;
        text-decoration: none;
        outline: none;
        color: #fff;
        background-color: #8803fc;
        border: none;
        border-radius: 15px;
        box-shadow: 0 9px #999;
        }
        #actionsReturn {
            padding: 5px 15px;
        font-size: 21px;
        cursor: pointer;
        text-align: center;
        text-decoration: none;
        outline: none;
        color: #fff;
        background-color: #8803fc;
        border: none;
        border-radius: 15px;
        box-shadow: 0 9px #999;
        }
        #talk1option1:hover {background-color: #6e02cc}

        #talk1option1:active {
        background-color: #6e02cc;
        box-shadow: 0 5px #666;
        transform: translateY(4px);
        }
        #talk1option2:hover {background-color: #6e02cc}

        #talk1option2:active {
        background-color: #6e02cc;
        box-shadow: 0 5px #666;
        transform: translateY(4px);
        }
        #actionsReturn:hover {background-color: #6e02cc}

        #actionsReturn:active {
        background-color: #6e02cc;
        box-shadow: 0 5px #666;
        transform: translateY(4px);
        }
        #bgbutton {
            position: absolute;
        }
        </style>
        <body>
            <button onclick="stopBG()" id="bgbutton">Stop Background</button>
            <br>
            <button onclick="playBG()" id="bgbutton">Play Background</button>
            <img src="mcRight.png" id="MCL">
            <p id="mcHP"><b>100/100</b></p>
            <p id="mcMorale"><b>100%</b></p>
            <p id="JCHP"><b>100/100</b></p>
            <p id="JCMorale"><b>100%</b></p>
            <img src="JoshuaCoinLeft.png" id="JCL">
            <div id="dialogue"><p id='Charname'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Joshua Coin</p><br><span id='welcome'></span><span id='weapons'></span><span id='allthis'></span><span id='allthis2'></span></div>
            <img src="JoshuaCoinPortrait.png" id="JCPortrait">
            <div id="actions"><br><button id='punch' onclick='punch1()'>Punch</button><button id='defend' onclick='defend1()'>Defend</button><button id='talk' onclick='talk1()'>Talk</button></div>
        </body>
        <script>
            const welcomeMsg = "Welcome to the battle! Don't worry, this is just practice. I'm going to teach you the basics of defending yourself. If you want to learn some more advanced techniques, I'll point you to someone who will teach you everything."
            const weaponsMsg = "ah, there are three different types of weapons. theres a blade, a maul, and a bow. Each weapon is unqiuely powerful against different types of enemies. A blade is most useful against humanoid enemies, like dudes with flesh and fat and stuff. A maul is useful against skeletons. it crushes their bones and stuff. and bows are just for wussys who cant fight."
            const allthisMsg = "im sure all this is quite confusing. First of all, the statistics that me and you have is called our health (green), which obviously shows how dead we are. 100/100 is not dead, and 0/100 is dead. Secondly, the blue, is called your morale. your morale can be changed by actions that you or your opponent do during your battle. It tells you how much damage your attack does. 100% morale means 100% damage, and 50% morale means half damage. simple!"
            const allthisMsg2 = "also, see that stuff that says im liking that im teaching you? thats the action log. it shows why anybody's health or morale is going up or down along with other stuffs. now go ahead and try to hit me! ill dodge it, trust me.  "
            function stopBG() {
                document.body.style.backgroundImage = 'url("battlescreenStill.png")'
            }
            function playBG() {
                document.body.style.backgroundImage = 'url("battlescreen.gif")'
            }
// Set up variables
let i = 0;
const txtSpeed = 30; 
const timerId = setInterval(typeWelcome, txtSpeed);
function typeWelcome() {
  const welcomeText = document.getElementById("welcome");
  const currentText = welcomeText.innerHTML;
  // If we've typed out the entire welcomeMsg, stop the timer
  if (i >= welcomeMsg.length) {
    clearInterval(timerId);
    return;
  }
  // Add the next character to the current text
  const nextChar = welcomeMsg.charAt(i);
  const newText = currentText + nextChar;
  // Update the text element with the new text
  welcomeText.innerHTML = newText;
  // Increment the counter
  i++;
}
function actionBarRise() {
    document.getElementById('actions').style.animation = 'actionBarRise 1s forwards'
}
function actionBarDescend() {
    document.getElementById('actions').style.animation = 'actionBarDescend 1s forwards'
}
function talk1() {
    console.log('talk1 pressed')
    actionBarDescend()
    function talk1anim1() {
    document.getElementById('actions').innerHTML = "<br><button id='talk1option1' onclick='talk1option1()'>What is all this?</button><button id='talk1option2' onclick='talk1option2()'>what types of gear are there?</button><button id='actionsReturn' onclick='actionsReturn()'>*Back</button>"
    document.getElementById('actions').style.left = '33vw'
    actionBarRise()
    } setTimeout(talk1anim1,500)
}
function actionsReturn() {
    console.log('actions returned')
    actionBarDescend()
    function talk1anim2() {
    document.getElementById('actions').innerHTML = "<br><button id='punch' onclick='punch1()'>Punch</button><button id='defend' onclick='defend1()'>Defend</button><button id='talk' onclick='talk1()'>Talk</button>"
    document.getElementById('actions').style.left = '42vw'
    actionBarRise()
    } setTimeout(talk1anim2,500)
}
function talk1option2() {
    console.log('talk option 2 pressed')
    actionBarDescend()
    document.getElementById('welcome').innerHTML = ''
    document.getElementById('allthis').innerHTML = ''
    document.getElementById('weapons').innerHTML = ''
    let i = 0
    const timerId = setInterval(typeWeapons, txtSpeed);
    function typeWeapons() {
    const weaponsText = document.getElementById("weapons");
    const currentText2 = weaponsText.innerHTML;
    if (i >= weaponsMsg.length) {
        clearInterval(timerId);
        return;
    }
    const nextChar = weaponsMsg.charAt(i);
    const newText2 = currentText2 + nextChar;
    weaponsText.innerHTML = newText2;
    i++;
}
    function talk1anim3() {
        console.log('buttons updated')
        document.getElementById('actions').innerHTML = "<br><button id='punch' onclick='punch1()'>Punch</button><button id='defend' onclick='defend1()'>Defend</button><button id='talk' onclick='talk1()'>Talk</button>"
        document.getElementById('actions').style.left = '42vw'
    } setTimeout(talk1anim3,2000)
    function talk1anim4() {
        actionBarRise()
    } setTimeout(talk1anim4,10000)

}
function talk1option1() {
    console.log('talk option 1 pressed')
    actionBarDescend()
    document.getElementById('welcome').innerHTML = ''
    document.getElementById('allthis').innerHTML = ''
    document.getElementById('weapons').innerHTML = ''
    let i = 0
    const timerId = setInterval(typeAllthis, txtSpeed);
    function typeAllthis() {
    const allthisText = document.getElementById("allthis");
    const currentText3 = allthisText.innerHTML;
    if (i >= allthisMsg.length) {
        clearInterval(timerId);
        return;
    }
    const nextChar = allthisMsg.charAt(i);
    const newText3 = currentText3 + nextChar;
    allthisText.innerHTML = newText3;
    i++;
}
function talk1anim5() {
    document.getElementById('welcome').innerHTML = ''
    document.getElementById('allthis').innerHTML = ''
    document.getElementById('weapons').innerHTML = ''
    let i = 0
    const timerId = setInterval(typeAllthis2, txtSpeed);
    function typeAllthis2() {
    const allthis2Text = document.getElementById("allthis2");
    const currentText4 = allthis2Text.innerHTML;
    if (i >= allthisMsg2.length) {
        clearInterval(timerId);
        return;
    }
    const nextChar = allthisMsg2.charAt(i);
    const newText4 = currentText4 + nextChar;
    allthis2Text.innerHTML = newText4;
    i++;
}
    function talk1anim6() {
        console.log('buttons updated')
        document.getElementById('actions').innerHTML = "<br><button id='punch' onclick='punch1()'>Punch</button><button id='defend' onclick='defend1()'>Defend</button><button id='talk' onclick='talk1()'>Talk</button>"
        document.getElementById('actions').style.left = '42vw'
    } setTimeout(talk1anim6,2000)
} setTimeout(talk1anim5,16000) 
} 
        </script>